import{r as u,u as S,a as $,C as O,R as D,b as B}from"./convex-BXJdso_C.js";import{r as U}from"./vendor-CgVA3q3W.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var L={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=u,z=Symbol.for("react.element"),H=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,V=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J={key:!0,ref:!0,__self:!0,__source:!0};function T(t,n,a){var r,s={},l=null,o=null;a!==void 0&&(l=""+a),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(o=n.ref);for(r in n)Y.call(n,r)&&!J.hasOwnProperty(r)&&(s[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:z,type:t,key:l,ref:o,props:s,_owner:V.current}}_.Fragment=H;_.jsx=T;_.jsxs=T;L.exports=_;var e=L.exports,R={},M=U;R.createRoot=M.createRoot,R.hydrateRoot=M.hydrateRoot;const K=Symbol.for("functionName");function I(t=[]){const n={get(a,r){if(typeof r=="string"){const s=[...t,r];return I(s)}else if(r===K){if(t.length<2){const o=["api",...t].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const s=t.slice(0,-1).join("/"),l=t[t.length-1];return l==="default"?s:s+":"+l}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},n)}const Q=I(),b=Q;function X({value:t,onChange:n}){const[a,r]=u.useState(t),s=u.useRef(null);u.useEffect(()=>{r(t)},[t]);const l=x=>{r(x),s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{n(x)},300)},o=()=>{r(""),n("")};return e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),placeholder:"Search products, brands, strains...",className:"w-full bg-neutral-900 border border-neutral-700 rounded-xl px-4 py-3 pl-11 text-white placeholder-neutral-500 focus:outline-none focus:border-cannabis-500 focus:ring-1 focus:ring-cannabis-500 transition-colors"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a&&e.jsx("button",{onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-neutral-700 text-neutral-400 hover:text-neutral-200 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function G({options:t,filters:n,onChange:a,onClear:r}){return e.jsx("div",{className:"bg-neutral-900 border-t border-neutral-800 px-4 py-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-500 mb-2 font-medium",children:"Category"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>a("category",null),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.category?"bg-neutral-800 text-neutral-400 hover:bg-neutral-700":"bg-cannabis-600 text-white"}`,children:"All"}),t.categories.slice(0,8).map(s=>e.jsx("button",{onClick:()=>a("category",s),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.category===s?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:Z(s)},s))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-500 mb-2 font-medium",children:"Strain Type"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>a("strain",null),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.strain?"bg-neutral-800 text-neutral-400 hover:bg-neutral-700":"bg-cannabis-600 text-white"}`,children:"All"}),["Indica","Sativa","Hybrid"].map(s=>e.jsx("button",{onClick:()=>a("strain",s),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.strain===s?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-500 mb-2 font-medium",children:"Dispensary"}),e.jsxs("select",{value:n.retailerId||"",onChange:s=>a("retailerId",s.target.value||null),className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-cannabis-500",children:[e.jsx("option",{value:"",children:"All Dispensaries"}),t.retailers.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.city,")"]},s.id))]})]}),e.jsx("button",{onClick:r,className:"w-full py-2 text-sm text-neutral-400 hover:text-white transition-colors",children:"Clear all filters"})]})})}function Z(t){return t.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function ee({inStock:t,stockLevel:n,lastInStockAt:a,size:r="md"}){const l=t?n==="low"?{emoji:"üü°",text:"Low Stock",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}:{emoji:"üü¢",text:"In Stock",color:"bg-green-500/20 text-green-400 border-green-500/30"}:{emoji:"üî¥",text:"Sold Out",color:"bg-red-500/20 text-red-400 border-red-500/30"},o=r==="sm"?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1";return e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border font-medium ${l.color} ${o}`,children:[e.jsx("span",{children:l.emoji}),e.jsx("span",{children:l.text})]}),!t&&a&&e.jsxs("span",{className:"text-xs text-neutral-500",children:["Last seen ",te(a)]})]})}function te(t){const a=Date.now()-t,r=Math.floor(a/6e4),s=Math.floor(r/60),l=Math.floor(s/24);return l>0?`${l}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"just now"}const F=()=>{try{return localStorage.getItem("cannasignal_email")}catch{return null}},se=t=>{try{localStorage.setItem("cannasignal_email",t)}catch{}};function ne({productId:t,productName:n}){const[a,r]=u.useState(F()||""),[s,l]=u.useState(!1),[o,x]=u.useState(!1),[v,p]=u.useState(null),[N,i]=u.useState(!1),m=F(),h=S(b.alerts.checkWatchExists,m?{email:m,productId:t}:"skip"),j=S(b.alerts.getWatcherCount,{productId:t}),c=$(b.alerts.watchProduct),y=$(b.alerts.unwatchProduct);u.useEffect(()=>{l(!1),p(null),i(!1)},[t]);const w=async()=>{if(m&&!h){x(!0),p(null);try{await c({email:m,productId:t,alertTypes:["restock","price_drop"]}),i(!0),setTimeout(()=>i(!1),2e3)}catch(g){p(g.message||"Failed to watch product")}finally{x(!1)}return}if(m&&h){x(!0);try{await y({email:m,productId:t})}catch(g){p(g.message||"Failed to unwatch")}finally{x(!1)}return}l(!0)},f=async g=>{if(g.preventDefault(),!a.trim()){p("Please enter your email");return}x(!0),p(null);try{await c({email:a.trim(),productId:t,alertTypes:["restock","price_drop"]}),se(a.trim()),l(!1),i(!0),setTimeout(()=>i(!1),2e3)}catch(k){p(k.message||"Failed to watch product")}finally{x(!1)}};return s?e.jsx("div",{className:"mt-4 p-4 bg-neutral-800 rounded-lg border border-neutral-700",children:e.jsxs("form",{onSubmit:f,children:[e.jsx("p",{className:"text-sm text-neutral-300 mb-3",children:"Enter your email to get notified when this product restocks or drops in price"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:a,onChange:g=>r(g.target.value),placeholder:"your@email.com",className:"flex-1 px-3 py-2 bg-neutral-900 border border-neutral-600 rounded-lg text-white text-sm focus:outline-none focus:border-cannabis-500",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-cannabis-600 text-white rounded-lg text-sm font-medium hover:bg-cannabis-500 disabled:opacity-50",children:o?"...":"Watch"})]}),v&&e.jsx("p",{className:"text-red-400 text-xs mt-2",children:v}),e.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-neutral-500 mt-2 hover:text-neutral-400",children:"Cancel"})]})}):e.jsxs("div",{className:"mt-4",children:[e.jsx("button",{onClick:w,disabled:o,className:`w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${h?"bg-cannabis-600/20 text-cannabis-400 border border-cannabis-600 hover:bg-cannabis-600/30":N?"bg-green-600 text-white":"bg-cannabis-600 text-white hover:bg-cannabis-500"} disabled:opacity-50`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:"‚ü≥"}),e.jsx("span",{children:"Processing..."})]}):N?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚úì"}),e.jsx("span",{children:"You're watching this!"})]}):h?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üîî"}),e.jsx("span",{children:"Watching ‚Ä¢ Tap to unwatch"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üîî"}),e.jsx("span",{children:"Watch for Restocks & Deals"})]})}),j!==void 0&&j>0&&e.jsxs("p",{className:"text-center text-xs text-neutral-500 mt-2",children:[j," ",j===1?"person is":"people are"," watching this"]}),v&&!s&&e.jsx("p",{className:"text-center text-xs text-red-400 mt-2",children:v})]})}function re({productId:t,compact:n=!1}){const a=S(b.smartAnalytics.getProductInsights,{productId:t}),r=S(b.smartAnalytics.getPopularityScore,{productId:t});return!a||!r?e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-12 bg-neutral-800 rounded-lg"}),e.jsx("div",{className:"h-20 bg-neutral-800 rounded-lg"})]}):a.insights.totalEvents===0?e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[e.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"üìä Not enough data yet to show trends"}),e.jsx("p",{className:"text-xs text-neutral-600 text-center mt-1",children:"Check back as we track more inventory changes"})]}):n?e.jsx(ae,{insights:a,popularity:r}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(ie,{popularity:r}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(ce,{insights:a}),e.jsx(oe,{insights:a})]}),a.recentEvents.length>0&&e.jsx(de,{events:a.recentEvents})]})}function ae({insights:t,popularity:n}){return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(le,{tier:n.tier,score:n.score}),t.insights.velocity&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-800 text-xs text-neutral-300",children:[e.jsx("span",{children:"‚ö°"}),e.jsx("span",{children:t.insights.velocity})]}),t.insights.restockPrediction&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-800 text-xs text-neutral-300",children:[e.jsx("span",{children:"üì¶"}),e.jsx("span",{children:t.insights.restockPrediction})]})]})}function le({tier:t,score:n}){const a={fire:{emoji:"üî•",color:"bg-gradient-to-r from-red-600 to-orange-500",label:"Fire"},hot:{emoji:"‚ö°",color:"bg-gradient-to-r from-amber-600 to-yellow-500",label:"Hot"},warm:{emoji:"üìà",color:"bg-amber-700",label:"Trending"},normal:{emoji:"üìä",color:"bg-neutral-700",label:"Normal"},cold:{emoji:"‚ùÑÔ∏è",color:"bg-blue-900",label:"Low demand"}},{emoji:r,color:s,label:l}=a[t]||a.normal;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full ${s} text-xs text-white font-medium`,children:[e.jsx("span",{children:r}),e.jsx("span",{children:l}),e.jsxs("span",{className:"opacity-75",children:["(",n,")"]})]})}function ie({popularity:t}){const n={fire:"from-red-600 via-orange-500 to-yellow-500",hot:"from-amber-500 to-yellow-400",warm:"from-amber-700 to-amber-600",normal:"from-neutral-600 to-neutral-500",cold:"from-blue-800 to-blue-700"},a={fire:"üî•",hot:"‚ö°",warm:"üìà",normal:"üìä",cold:"‚ùÑÔ∏è"};return e.jsxs("div",{className:`rounded-xl p-4 bg-gradient-to-br ${n[t.tier]||n.normal}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/80 font-medium uppercase tracking-wide",children:"Popularity Score"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[e.jsx("span",{className:"text-3xl font-bold text-white",children:t.score}),e.jsx("span",{className:"text-lg text-white/80",children:"/100"}),e.jsx("span",{className:"text-2xl ml-2",children:a[t.tier]})]})]}),e.jsxs("div",{className:"text-right text-white/90",children:[e.jsx("p",{className:"text-sm font-medium capitalize",children:t.tier}),e.jsxs("p",{className:"text-xs text-white/70",children:[t.confidence," confidence"]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-3 pt-3 border-t border-white/20 text-xs text-white/80",children:[e.jsxs("span",{children:["üìç ",t.metrics.locationsCarrying," locations"]}),e.jsxs("span",{children:["üì¶ ",t.metrics.restockCount," restocks"]}),e.jsxs("span",{children:["üí® ",t.metrics.soldOutCount," sold out"]})]})]})}function ce({insights:t}){const n=t.insights.avgHoursToSellout,a=t.insights.velocity;return e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[e.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:"‚ö° Sell-Out Speed"}),a?e.jsx("p",{className:"text-sm text-white font-medium",children:a}):e.jsx("p",{className:"text-sm text-neutral-500",children:"No data yet"}),n!==null&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 bg-neutral-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${n<4?"bg-red-500 w-full animate-pulse":n<12?"bg-orange-500 w-4/5":n<24?"bg-yellow-500 w-3/5":n<48?"bg-green-500 w-2/5":"bg-neutral-600 w-1/5"}`})}),e.jsxs("p",{className:"text-xs text-neutral-600 mt-1",children:["Avg: ",n<24?`${Math.round(n)}h`:`${Math.round(n/24)}d`]})]})]})}function oe({insights:t}){const n=t.insights.restockPrediction,a=t.insights.topRestockDays;return e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[e.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:"üì¶ Restock Pattern"}),n?e.jsx("p",{className:"text-sm text-white font-medium",children:n}):a.length>0?e.jsxs("p",{className:"text-sm text-neutral-400",children:["Often restocks ",a.join(", ")]}):e.jsx("p",{className:"text-sm text-neutral-500",children:"No pattern detected"}),a.length>0&&e.jsx("div",{className:"flex gap-1 mt-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(r=>e.jsx("div",{className:`flex-1 h-6 rounded text-xs flex items-center justify-center ${a.includes(r)?"bg-cannabis-600 text-white font-medium":"bg-neutral-800 text-neutral-600"}`,children:r.charAt(0)},r))})]})}function de({events:t}){const n={restock:{emoji:"üì¶",label:"Restocked",color:"text-green-400"},sold_out:{emoji:"üí®",label:"Sold out",color:"text-red-400"},price_drop:{emoji:"üìâ",label:"Price drop",color:"text-green-400"},price_increase:{emoji:"üìà",label:"Price up",color:"text-amber-400"},new_product:{emoji:"üÜï",label:"New drop",color:"text-blue-400"},removed:{emoji:"üóëÔ∏è",label:"Removed",color:"text-neutral-500"}},a=r=>{const s=Date.now()-r,l=Math.floor(s/(1e3*60*60)),o=Math.floor(l/24);return o>0?`${o}d ago`:l>0?`${l}h ago`:"just now"};return e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[e.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-3",children:"üìã Recent Activity"}),e.jsx("div",{className:"space-y-2",children:t.slice(0,5).map((r,s)=>{const l=n[r.type]||{emoji:"üìù",label:r.type,color:"text-neutral-400"};return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:`flex items-center gap-2 ${l.color}`,children:[e.jsx("span",{children:l.emoji}),e.jsx("span",{children:l.label})]}),e.jsx("span",{className:"text-xs text-neutral-600",children:a(r.timestamp)})]},s)})})]})}function xe({productId:t,userLocation:n,onClose:a}){var N;const r=S(b.products.getById,{id:t}),s=S(b.inventory.getByProduct,{productId:t}),l=i=>{i.target===i.currentTarget&&a()},o=(i,m)=>!n||!i||!m?null:he(n.lat,n.lng,i,m),x=[...s||[]].sort((i,m)=>{var c,y,w,f,g,k,C,d;if(i.inStock!==m.inStock)return i.inStock?-1:1;const h=o((y=(c=i.retailer)==null?void 0:c.address)==null?void 0:y.lat,(f=(w=i.retailer)==null?void 0:w.address)==null?void 0:f.lng),j=o((k=(g=m.retailer)==null?void 0:g.address)==null?void 0:k.lat,(d=(C=m.retailer)==null?void 0:C.address)==null?void 0:d.lng);return h!==null&&j!==null?h-j:0}),v=x.filter(i=>i.inStock).length,p=x.length>0?Math.min(...x.map(i=>i.currentPrice)):null;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-end sm:items-center justify-center",onClick:l,tabIndex:-1,children:[e.jsxs("div",{className:"w-full max-w-lg bg-neutral-900 rounded-t-2xl sm:rounded-2xl max-h-[85vh] overflow-hidden flex flex-col animate-slide-up",children:[e.jsxs("div",{className:"p-4 border-b border-neutral-800 flex items-start justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:r?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-cannabis-400 font-medium",children:(N=r.brand)==null?void 0:N.name}),e.jsx("h2",{className:"text-xl font-bold text-white truncate",children:r.name}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-800 text-neutral-400",children:ue(r.category)}),r.strain&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-800 text-neutral-400",children:r.strain})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"skeleton h-4 w-24 rounded"}),e.jsx("div",{className:"skeleton h-6 w-48 rounded"})]})}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 -mt-2 rounded-full hover:bg-neutral-800 text-neutral-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s&&e.jsxs("div",{className:"px-4 py-3 bg-neutral-800/50 border-b border-neutral-800",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-cannabis-400",children:v}),e.jsx("p",{className:"text-xs text-neutral-500",children:"In Stock"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:x.length}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Locations"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:p?`$${p.toFixed(0)}`:"-"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Lowest Price"})]})]}),e.jsx(ne,{productId:t,productName:r==null?void 0:r.name})]}),e.jsxs("div",{className:"px-4 py-3 border-b border-neutral-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-lg",children:"üìä"}),e.jsx("h3",{className:"text-sm font-medium text-neutral-400",children:"Smart Insights"})]}),e.jsx(re,{productId:t})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-neutral-400 mb-3",children:["Available at ",x.length," locations"]}),s?x.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-neutral-500",children:"Not available at any tracked location"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-2",children:"This product hasn't been seen in recent inventory scans"})]}):e.jsx("div",{className:"space-y-3",children:x.map(i=>{var h,j,c,y,w,f,g,k,C;const m=o((j=(h=i.retailer)==null?void 0:h.address)==null?void 0:j.lat,(y=(c=i.retailer)==null?void 0:c.address)==null?void 0:y.lng);return e.jsxs("div",{className:"bg-neutral-800/50 rounded-lg p-3 border border-neutral-700/50",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:((w=i.retailer)==null?void 0:w.name)||"Unknown"}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-0.5",children:[(g=(f=i.retailer)==null?void 0:f.address)==null?void 0:g.city,", ",(C=(k=i.retailer)==null?void 0:k.address)==null?void 0:C.state,m!==null&&e.jsxs("span",{children:[" ‚Ä¢ ",m.toFixed(1)," mi away"]})]})]}),e.jsx(ee,{inStock:i.inStock,stockLevel:i.stockLevel,lastInStockAt:i.lastInStockAt,size:"sm"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-neutral-700/50",children:[e.jsxs("div",{className:"flex items-baseline gap-1.5",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["$",i.currentPrice.toFixed(2)]}),i.previousPrice&&i.currentPrice<i.previousPrice&&e.jsxs("span",{className:"text-xs text-green-400",children:["‚Üì $",(i.previousPrice-i.currentPrice).toFixed(2)," off"]})]}),e.jsxs("span",{className:"text-xs text-neutral-500",children:["Updated ",me(i.lastUpdatedAt)]})]})]},i._id)})}):e.jsx("div",{className:"space-y-3",children:[1,2,3].map(i=>e.jsx("div",{className:"skeleton h-20 rounded-lg"},i))})]})})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up {
          animation: slide-up 0.2s ease-out;
        }
      `})]})}function ue(t){return t.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function me(t){const a=Date.now()-t,r=Math.floor(a/6e4),s=Math.floor(r/60),l=Math.floor(s/24);return l>0?`${l}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"just now"}function he(t,n,a,r){const l=P(a-t),o=P(r-n),x=Math.sin(l/2)*Math.sin(l/2)+Math.cos(P(t))*Math.cos(P(a))*Math.sin(o/2)*Math.sin(o/2);return 3959*(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)))}function P(t){return t*(Math.PI/180)}const A=()=>{try{return localStorage.getItem("cannasignal_email")}catch{return null}},pe=t=>{try{localStorage.setItem("cannasignal_email",t)}catch{}};function fe({onClose:t,onProductClick:n}){const[a,r]=u.useState(A()||""),[s,l]=u.useState(!!A()),[o,x]=u.useState(!1),v=S(b.alerts.getWatchesByEmail,s?{email:a}:"skip"),p=$(b.alerts.deleteWatch),N=$(b.alerts.toggleWatch),i=c=>{c.preventDefault(),a.trim()&&(pe(a.trim()),l(!0),x(!1))},m=async c=>{confirm("Remove this from your watchlist?")&&await p({watchId:c})},h=async c=>{await N({watchId:c})},j=c=>{c.target===c.currentTarget&&t()};return!s||o?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:j,children:e.jsxs("div",{className:"w-full max-w-md bg-neutral-900 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"My Watchlist"}),e.jsx("button",{onClick:t,className:"p-2 -mr-2 rounded-full hover:bg-neutral-800 text-neutral-400",children:"‚úï"})]}),e.jsxs("form",{onSubmit:i,children:[e.jsx("p",{className:"text-neutral-400 mb-4",children:"Enter your email to view and manage your watched products."}),e.jsx("input",{type:"email",value:a,onChange:c=>r(c.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-neutral-800 border border-neutral-700 rounded-lg text-white focus:outline-none focus:border-cannabis-500",autoFocus:!0}),e.jsx("button",{type:"submit",className:"w-full mt-4 py-3 bg-cannabis-600 text-white rounded-lg font-medium hover:bg-cannabis-500",children:"View Watchlist"}),o&&e.jsx("button",{type:"button",onClick:()=>x(!1),className:"w-full mt-2 py-2 text-neutral-500 text-sm hover:text-neutral-400",children:"Cancel"})]})]})}):e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-end sm:items-center justify-center",onClick:j,children:[e.jsxs("div",{className:"w-full max-w-lg bg-neutral-900 rounded-t-2xl sm:rounded-2xl max-h-[85vh] overflow-hidden flex flex-col animate-slide-up",children:[e.jsxs("div",{className:"p-4 border-b border-neutral-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"üîî"}),e.jsx("span",{children:"My Watchlist"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"text-xs text-neutral-500 hover:text-neutral-400",children:[a," ‚Ä¢ Change"]})]}),e.jsx("button",{onClick:t,className:"p-2 -mr-2 rounded-full hover:bg-neutral-800 text-neutral-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v?v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-4xl mb-4",children:"üëÄ"}),e.jsx("p",{className:"text-neutral-400 mb-2",children:"No watched products yet"}),e.jsx("p",{className:"text-sm text-neutral-600",children:'Find a product and tap "Watch" to get alerted when it restocks'})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-neutral-500 mb-2",children:"You'll be notified when these products restock or drop in price"}),v.map(c=>{var y,w;return e.jsxs("div",{className:`bg-neutral-800/50 rounded-lg p-4 border transition-opacity ${c.isActive?"border-neutral-700/50":"border-neutral-800 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("button",{onClick:()=>n(c.productId),className:"flex-1 text-left min-w-0",children:[e.jsx("p",{className:"text-xs text-cannabis-400 font-medium",children:((y=c.brand)==null?void 0:y.name)||"Unknown Brand"}),e.jsx("p",{className:"text-white font-medium truncate",children:((w=c.product)==null?void 0:w.name)||"Unknown Product"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.alertTypes.map(f=>e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-700 text-neutral-400",children:f==="restock"?"üì¶ Restock":f==="price_drop"?"üìâ Price Drop":f==="new_drop"?"üÜï New Drop":f},f))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(c._id),className:`p-2 rounded-lg transition-colors ${c.isActive?"text-cannabis-400 hover:bg-cannabis-600/20":"text-neutral-600 hover:bg-neutral-700"}`,title:c.isActive?"Pause alerts":"Resume alerts",children:c.isActive?"üîî":"üîï"}),e.jsx("button",{onClick:()=>m(c._id),className:"p-2 rounded-lg text-neutral-500 hover:text-red-400 hover:bg-red-600/10",title:"Remove from watchlist",children:"üóëÔ∏è"})]})]}),c.lastNotifiedAt&&e.jsxs("p",{className:"text-xs text-neutral-600 mt-2",children:["Last alert: ",ge(c.lastNotifiedAt)]})]},c._id)})]}):e.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>e.jsx("div",{className:"h-20 bg-neutral-800 rounded-lg animate-pulse"},c))})}),e.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-800/50",children:e.jsxs("p",{className:"text-xs text-neutral-500 text-center",children:["Alerts are sent to Discord when products restock or prices drop.",e.jsx("br",{}),"Email notifications coming soon!"]})})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up {
          animation: slide-up 0.2s ease-out;
        }
      `})]})}function ge(t){const a=Date.now()-t,r=Math.floor(a/6e4),s=Math.floor(r/60),l=Math.floor(s/24);return l>0?`${l}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"just now"}function je({count:t=3}){return e.jsx("div",{className:"space-y-3",children:Array.from({length:t}).map((n,a)=>e.jsx("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg skeleton flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"skeleton h-3 w-20 rounded"}),e.jsx("div",{className:"skeleton h-5 w-3/4 rounded"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"skeleton h-4 w-16 rounded"}),e.jsx("div",{className:"skeleton h-4 w-12 rounded"})]}),e.jsxs("div",{className:"flex justify-between pt-1",children:[e.jsx("div",{className:"skeleton h-6 w-16 rounded"}),e.jsx("div",{className:"skeleton h-4 w-24 rounded"})]})]})]})},a))})}function be({onProductClick:t,limit:n=10,hoursBack:a=24}){const r=S(b.smartAnalytics.getHotProducts,{limit:n,hoursBack:a});return r?r.length===0?e.jsxs("div",{className:"text-center py-8 bg-neutral-900 rounded-xl",children:[e.jsx("p",{className:"text-4xl mb-2",children:"üìä"}),e.jsx("p",{className:"text-neutral-400",children:"No trending data yet"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Check back as we gather more inventory data"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx("span",{children:"üî•"}),e.jsx("span",{children:"Hot Right Now"})]}),e.jsxs("span",{className:"text-xs text-neutral-500",children:["Last ",a,"h"]})]}),e.jsx("div",{className:"space-y-2",children:r.map((s,l)=>e.jsx("button",{onClick:()=>t(s.productId),className:"w-full bg-neutral-900 border border-neutral-800 rounded-xl p-4 text-left hover:border-neutral-700 transition-all hover:scale-[1.01] active:scale-[0.99]",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold flex-shrink-0 ${l===0?"bg-gradient-to-br from-yellow-500 to-orange-500 text-white":l===1?"bg-gradient-to-br from-neutral-400 to-neutral-500 text-white":l===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-neutral-800 text-neutral-400"}`,children:l+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-cannabis-400 font-medium truncate",children:s.brandName}),e.jsx("h3",{className:"text-white font-medium truncate leading-tight",children:s.productName})]}),e.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:e.jsx(Ne,{score:s.hotScore,isNewDrop:s.isNewDrop})})]}),e.jsx("p",{className:"text-sm text-amber-400/80 mt-1",children:s.hotReason}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-neutral-500",children:[s.metrics.restocks>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"üì¶"}),e.jsxs("span",{children:[s.metrics.restocks," restocks"]})]}),s.metrics.soldOuts>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"üí®"}),e.jsxs("span",{children:[s.metrics.soldOuts," sold out"]})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"üìç"}),e.jsxs("span",{children:[s.metrics.locationCount," locations"]})]}),s.metrics.avgPrice&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"üíµ"}),e.jsxs("span",{children:["~$",s.metrics.avgPrice]})]})]})]})]})},s.productId))})]}):e.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((s,l)=>e.jsx("div",{className:"bg-neutral-900 rounded-xl p-4 h-24"},l))})}function Ne({score:t,isNewDrop:n}){return n?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-green-600 to-emerald-600 text-white text-xs font-medium",children:[e.jsx("span",{children:"üÜï"}),e.jsx("span",{children:"New"})]}):t>=10?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-red-600 to-orange-500 text-white text-xs font-medium animate-pulse",children:[e.jsx("span",{children:"üî•"}),e.jsx("span",{children:"Fire"})]}):t>=6?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-amber-600 to-yellow-500 text-white text-xs font-medium",children:[e.jsx("span",{children:"‚ö°"}),e.jsx("span",{children:"Hot"})]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-700 text-neutral-300 text-xs font-medium",children:[e.jsx("span",{children:"üìà"}),e.jsx("span",{children:"Trending"})]})}function ve(){const[t,n]=u.useState({query:"",category:null,strain:null,retailerId:null,inStockOnly:!1}),[a,r]=u.useState(null),[s,l]=u.useState(null),[o,x]=u.useState(!1),[v,p]=u.useState(!1),[N,i]=u.useState("trending");u.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(d=>{l({lat:d.coords.latitude,lng:d.coords.longitude})},()=>{l({lat:40.7128,lng:-74.006})})},[]);const m=S(b.retailers.list,{}),h=S(b.products.list,{category:t.category||void 0,limit:100}),j=S(b.products.search,{query:t.query||""}),c=t.query?j:h,y={categories:[...new Set((h==null?void 0:h.map(d=>d.category))||[])].sort(),strains:[...new Set((h==null?void 0:h.map(d=>d.strain).filter(Boolean))||[])].sort(),retailers:(m||[]).map(d=>({id:d._id,name:d.name,city:d.address.city,region:d.region}))},w=u.useCallback(d=>{n(E=>({...E,query:d}))},[]),f=u.useCallback((d,E)=>{n(W=>({...W,[d]:E}))},[]),g=u.useCallback(()=>{n({query:"",category:null,strain:null,retailerId:null,inStockOnly:!1})},[]),k=[t.category,t.strain,t.retailerId,t.inStockOnly].filter(Boolean).length,C=(c||[]).filter(d=>!(t.strain&&d.strain!==t.strain)).slice(0,50);return e.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[e.jsxs("header",{className:"sticky top-0 z-40 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:[e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h1",{className:"text-xl font-bold text-cannabis-400 flex items-center gap-2",children:[e.jsx("span",{children:"üåø"}),e.jsx("span",{children:"CannaSignal"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>p(!0),className:"text-sm px-3 py-1.5 rounded-full bg-neutral-800 text-neutral-300 hover:bg-neutral-700 flex items-center gap-1",children:[e.jsx("span",{children:"üîî"}),e.jsx("span",{children:"Alerts"})]}),e.jsx("span",{className:"text-xs text-neutral-500 flex items-center gap-1",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-cannabis-500"}),e.jsx("span",{children:"üìç NYC"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),e.jsx("span",{children:"..."})]})})]})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("button",{onClick:()=>i("trending"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${N==="trending"?"bg-gradient-to-r from-orange-600 to-amber-500 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[e.jsx("span",{children:"üî•"}),e.jsx("span",{children:"Trending"})]}),e.jsxs("button",{onClick:()=>i("search"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${N==="search"?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[e.jsx("span",{children:"üîç"}),e.jsx("span",{children:"Search"})]})]}),N==="search"&&e.jsx(e.Fragment,{children:e.jsx(X,{value:t.query,onChange:w})}),N==="search"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("button",{onClick:()=>x(!o),className:`text-sm px-3 py-1.5 rounded-full flex items-center gap-1 transition-colors ${k>0?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[e.jsx("span",{children:"üéõÔ∏è"}),e.jsx("span",{children:"Filters"}),k>0&&e.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-white/20 flex items-center justify-center text-xs font-medium",children:k})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.inStockOnly,onChange:d=>f("inStockOnly",d.target.checked),className:"w-4 h-4 rounded border-neutral-600 bg-neutral-800 text-cannabis-500 focus:ring-cannabis-500 focus:ring-offset-0"}),e.jsx("span",{children:"In stock only"})]})]})]}),N==="search"&&o&&y.categories.length>0&&e.jsx(G,{options:y,filters:t,onChange:f,onClear:g})]}),e.jsx("main",{className:"max-w-3xl mx-auto px-4 py-4",children:N==="trending"?e.jsx(be,{onProductClick:d=>r(d),limit:15,hoursBack:48}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm text-neutral-500",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-neutral-300 font-medium",children:C.length})," ","products found"]}):e.jsx("span",{className:"skeleton inline-block w-24 h-4 rounded"})}),C.length>0&&e.jsxs("p",{className:"text-xs text-neutral-600",children:["Sorted by ",s?"distance":"last updated"]})]}),c?C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-4xl mb-4",children:"üîç"}),e.jsx("p",{className:"text-neutral-400 mb-2",children:"No products found"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Try adjusting your search or filters"}),k>0&&e.jsx("button",{onClick:g,className:"mt-4 text-sm text-cannabis-400 hover:text-cannabis-300",children:"Clear all filters"})]}):e.jsx("div",{className:"space-y-3",children:C.map(d=>e.jsx(ye,{product:d,onClick:()=>r(d._id)},d._id))}):e.jsx(je,{count:6})]})}),a&&e.jsx(xe,{productId:a,userLocation:s,onClose:()=>r(null)}),v&&e.jsx(fe,{onClose:()=>p(!1),onProductClick:d=>{p(!1),r(d)}}),e.jsx("footer",{className:"border-t border-neutral-800 mt-8 py-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Real-time inventory tracking for NYS licensed dispensaries"}),e.jsx("p",{className:"text-xs text-neutral-700 mt-1",children:"Data updates every 15 minutes ‚Ä¢ Not affiliated with any dispensary"})]})})]})}function ye({product:t,onClick:n}){var a,r;return e.jsx("button",{onClick:n,className:"w-full bg-neutral-900 border border-neutral-800 rounded-xl p-4 text-left hover:border-neutral-700 transition-colors active:bg-neutral-800",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-neutral-800 flex-shrink-0 overflow-hidden",children:t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:ke(t.category)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-cannabis-400 font-medium truncate",children:((a=t.brand)==null?void 0:a.name)||"Unknown Brand"}),e.jsx("h3",{className:"text-white font-medium truncate leading-tight",children:t.name})]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border text-xs px-2 py-0.5 font-medium bg-neutral-500/20 text-neutral-400 border-neutral-500/30",children:[e.jsx("span",{children:"‚ö™"}),e.jsx("span",{children:"Check"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:we(t.category)}),t.strain&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:t.strain}),t.weight&&e.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:[t.weight.amount,t.weight.unit]}),((r=t.thcRange)==null?void 0:r.max)&&e.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:["THC ",t.thcRange.max,"%"]})]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Tap to see availability across locations"})]})]})})}function we(t){return t.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function ke(t){return{flower:"üå∏",pre_roll:"üö¨",preroll:"üö¨",vape:"üí®",edible:"üç™",concentrate:"üíé",tincture:"üíß",topical:"üß¥"}[t.toLowerCase()]||"üåø"}const Se="https://quick-weasel-225.convex.cloud",Ce=new O(Se);R.createRoot(document.getElementById("root")).render(e.jsx(D.StrictMode,{children:e.jsx(B,{client:Ce,children:e.jsx(ve,{})})}));
