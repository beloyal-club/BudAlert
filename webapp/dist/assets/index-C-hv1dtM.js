var hs=Object.defineProperty;var ms=(e,n,r)=>n in e?hs(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var q=(e,n,r)=>ms(e,typeof n!="symbol"?n+"":n,r);import{r as g,R as f,C as ps,a as xs,u as B,b as Ue,c as fs}from"./convex-jxXgPF8j.js";import{r as gn}from"./vendor-D3YG8A9p.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var bn={exports:{}},Be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=g,bs=Symbol.for("react.element"),vs=Symbol.for("react.fragment"),js=Object.prototype.hasOwnProperty,ys=gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ws={key:!0,ref:!0,__self:!0,__source:!0};function vn(e,n,r){var i,s={},a=null,l=null;r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(l=n.ref);for(i in n)js.call(n,i)&&!ws.hasOwnProperty(i)&&(s[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)s[i]===void 0&&(s[i]=n[i]);return{$$typeof:bs,type:e,key:a,ref:l,props:s,_owner:ys.current}}Be.Fragment=vs;Be.jsx=vn;Be.jsxs=vn;bn.exports=Be;var t=bn.exports,dt={},Ot=gn;dt.createRoot=Ot.createRoot,dt.hydrateRoot=Ot.hydrateRoot;function Ns({children:e,client:n,useAuth:r}){const i=ks(r);return f.createElement(ps,{client:n,useAuth:i},e)}function ks(e){return g.useMemo(()=>function(){const{isLoaded:r,isSignedIn:i,getToken:s,orgId:a,orgRole:l}=e(),c=g.useCallback(async({forceRefreshToken:o})=>{try{return await s({template:"convex",skipCache:o})}catch{return null}},[a,l]);return g.useMemo(()=>({isLoading:!r,isAuthenticated:i??!1,fetchAccessToken:c}),[r,i,c])},[e])}var ie,Cs=(ie=class extends Error{constructor(r){super(new.target.formatMessage(new.target.kind,r.message,r.code,r.docsUrl),{cause:r.cause});q(this,"clerkError",!0);q(this,"code");q(this,"longMessage");q(this,"docsUrl");q(this,"cause");Object.setPrototypeOf(this,ie.prototype),this.code=r.code,this.docsUrl=r.docsUrl,this.longMessage=r.longMessage,this.cause=r.cause}get name(){return this.constructor.name}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(r,i,s,a){const l="Clerk:",c=new RegExp(l.replace(" ","\\s*"),"i");return i=i.replace(c,""),i=`${l} ${i.trim()}

(code="${s}")

`,a&&(i+=`

Docs: ${a}`),i}},q(ie,"kind","ClerkError"),ie);const Ss=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function jn({packageName:e,customMessages:n}){let r=e;function i(a,l){if(!l)return`${r}: ${a}`;let c=a;const o=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of o){const h=(l[m[1]]||"").toString();c=c.replace(`{{${m[1]}}}`,h)}return`${r}: ${c}`}const s={...Ss,...n};return{setPackageName({packageName:a}){return typeof a=="string"&&(r=a),this},setMessages({customMessages:a}){return Object.assign(s,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(i(s.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(i(s.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(i(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(i(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw new Error(i(s.MissingClerkProvider,a))},throw(a){throw new Error(i(a))}}}var le,ut=(le=class extends Cs{constructor(r,i){super({...i,message:r});q(this,"clerkRuntimeError",!0);Object.setPrototypeOf(this,le.prototype)}},q(le,"kind","ClerkRuntimeError"),le);const Ps={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},_s=new Set(["first_factor","second_factor","multi_factor"]),Es=new Set(["strict_mfa","strict","moderate","lax"]),Ms=e=>typeof e=="number"&&e>0,Is=e=>_s.has(e),Os=e=>Es.has(e),Xe=e=>e.replace(/^(org:)*/,"org:"),Rs=(e,n)=>{const{orgId:r,orgRole:i,orgPermissions:s}=n;return!e.role&&!e.permission||!r||!i||!s?null:e.permission?s.includes(Xe(e.permission)):e.role?Xe(i)===Xe(e.role):null},Rt=(e,n)=>{const{org:r,user:i}=Ts(e),[s,a]=n.split(":"),l=a||s;return s==="org"?r.includes(l):s==="user"?i.includes(l):[...r,...i].includes(l)},As=(e,n)=>{const{features:r,plans:i}=n;return e.feature&&r?Rt(r,e.feature):e.plan&&i?Rt(i,e.plan):null},Ts=e=>{const n=e?e.split(",").map(r=>r.trim()):[];return{org:n.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:n.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},Us=e=>{if(!e)return!1;const n=s=>typeof s=="string"?Ps[s]:s,r=typeof e=="string"&&Os(e),i=typeof e=="object"&&Is(e.level)&&Ms(e.afterMinutes);return r||i?n.bind(null,e):!1},Ls=(e,{factorVerificationAge:n})=>{if(!e.reverification||!n)return null;const r=Us(e.reverification);if(!r)return null;const{level:i,afterMinutes:s}=r(),[a,l]=n,c=a!==-1?s>a:null,o=l!==-1?s>l:null;switch(i){case"first_factor":return c;case"second_factor":return l!==-1?o:c;case"multi_factor":return l===-1?c:c&&o}},Fs=e=>n=>{if(!e.userId)return!1;const r=As(n,e),i=Rs(n,e),s=Ls(n,e);return[r||i,s].some(a=>a===null)?[r||i,s].some(a=>a===!0):[r||i,s].every(a=>a===!0)},Ds=({authObject:{sessionId:e,sessionStatus:n,userId:r,actor:i,orgId:s,orgRole:a,orgSlug:l,signOut:c,getToken:o,has:m,sessionClaims:h},options:{treatPendingAsSignedOut:x=!0}})=>{if(e===void 0&&r===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:c,getToken:o};if(e===null&&r===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:c,getToken:o};if(x&&n==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:c,getToken:o};if(e&&h&&r&&s&&a)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:r,actor:i||null,orgId:s,orgRole:a,orgSlug:l||null,has:m,signOut:c,getToken:o};if(e&&h&&r&&!s)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:r,actor:i||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:c,getToken:o}},Bs=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],yn=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,wn="pk_live_",Ws="pk_test_";function Nn(e){if(!e.endsWith("$"))return!1;const n=e.slice(0,-1);return n.includes("$")?!1:n.includes(".")}function At(e,n={}){if(e=e||"",!e||!ht(e)){if(n.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(n.fatal&&!ht(e))throw new Error("Publishable key not valid.");return null}const r=e.startsWith(wn)?"production":"development";let i;try{i=yn(e.split("_")[2])}catch{if(n.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!Nn(i)){if(n.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=i.slice(0,-1);return n.proxyUrl?s=n.proxyUrl:r!=="development"&&n.domain&&n.isSatellite&&(s=`clerk.${n.domain}`),{instanceType:r,frontendApi:s}}function ht(e=""){try{if(!(e.startsWith(wn)||e.startsWith(Ws)))return!1;const n=e.split("_");if(n.length!==3)return!1;const r=n[2];return r?Nn(yn(r)):!1}catch{return!1}}function zs(){const e=new Map;return{isDevOrStagingUrl:n=>{if(!n)return!1;const r=typeof n=="string"?n:n.hostname;let i=e.get(r);return i===void 0&&(i=Bs.some(s=>r.endsWith(s)),e.set(r,i)),i}}}const $s="METHOD_CALLED",Ys=.1;function Vs(e,n){return{event:$s,eventSamplingRate:Ys,payload:{method:e,...n}}}var Hs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=g;function Ks(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qs=typeof Object.is=="function"?Object.is:Ks,Gs=me.useState,Js=me.useEffect,Xs=me.useLayoutEffect,Qs=me.useDebugValue;function Zs(e,n){var r=n(),i=Gs({inst:{value:r,getSnapshot:n}}),s=i[0].inst,a=i[1];return Xs(function(){s.value=r,s.getSnapshot=n,Qe(s)&&a({inst:s})},[e,r,n]),Js(function(){return Qe(s)&&a({inst:s}),e(function(){Qe(s)&&a({inst:s})})},[e]),Qs(r),r}function Qe(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!qs(e,r)}catch{return!0}}function er(e,n){return n()}var tr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?er:Zs;Hs.useSyncExternalStore=me.useSyncExternalStore!==void 0?me.useSyncExternalStore:tr;const nr=0,sr=1,rr=2;var Tt=Object.prototype.hasOwnProperty;function mt(e,n){var r,i;if(e===n)return!0;if(e&&n&&(r=e.constructor)===n.constructor){if(r===Date)return e.getTime()===n.getTime();if(r===RegExp)return e.toString()===n.toString();if(r===Array){if((i=e.length)===n.length)for(;i--&&mt(e[i],n[i]););return i===-1}if(!r||typeof e=="object"){i=0;for(r in e)if(Tt.call(e,r)&&++i&&!Tt.call(n,r)||!(r in n)||!mt(e[r],n[r]))return!1;return Object.keys(n).length===i}}return e!==e&&n!==n}const te=new WeakMap,se=()=>{},D=se(),Le=Object,z=e=>e===D,ne=e=>typeof e=="function",ce=(e,n)=>({...e,...n}),ar=e=>ne(e.then),Ze={},Se={},kn="undefined",We=typeof window!=kn,pt=typeof document!=kn,ir=We&&"Deno"in window,lr=(e,n)=>{const r=te.get(e);return[()=>!z(n)&&e.get(n)||Ze,i=>{if(!z(n)){const s=e.get(n);n in Se||(Se[n]=s),r[5](n,ce(s,i),s||Ze)}},r[6],()=>!z(n)&&n in Se?Se[n]:!z(n)&&e.get(n)||Ze]};let xt=!0;const or=()=>xt,[ft,gt]=We&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[se,se],cr=()=>{const e=pt&&document.visibilityState;return z(e)||e!=="hidden"},dr=e=>(pt&&document.addEventListener("visibilitychange",e),ft("focus",e),()=>{pt&&document.removeEventListener("visibilitychange",e),gt("focus",e)}),ur=e=>{const n=()=>{xt=!0,e()},r=()=>{xt=!1};return ft("online",n),ft("offline",r),()=>{gt("online",n),gt("offline",r)}},hr={isOnline:or,isVisible:cr},mr={initFocus:dr,initReconnect:ur};f.useId;const kt=!We||ir,pr=kt?g.useEffect:g.useLayoutEffect,et=typeof navigator<"u"&&navigator.connection,Ut=!kt&&et&&(["slow-2g","2g"].includes(et.effectiveType)||et.saveData),Pe=new WeakMap,xr=e=>Le.prototype.toString.call(e),tt=(e,n)=>e===`[object ${n}]`;let fr=0;const bt=e=>{const n=typeof e,r=xr(e),i=tt(r,"Date"),s=tt(r,"RegExp"),a=tt(r,"Object");let l,c;if(Le(e)===e&&!i&&!s){if(l=Pe.get(e),l)return l;if(l=++fr+"~",Pe.set(e,l),Array.isArray(e)){for(l="@",c=0;c<e.length;c++)l+=bt(e[c])+",";Pe.set(e,l)}if(a){l="#";const o=Le.keys(e).sort();for(;!z(c=o.pop());)z(e[c])||(l+=c+":"+bt(e[c])+",");Pe.set(e,l)}}else l=i?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return l},Cn=e=>{if(ne(e))try{e=e()}catch{e=""}const n=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?bt(e):"",[e,n]};let gr=0;const Lt=()=>++gr;async function br(...e){const[n,r,i,s]=e,a=ce({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let l=a.populateCache;const c=a.rollbackOnError;let o=a.optimisticData;const m=u=>typeof c=="function"?c(u):c!==!1,h=a.throwOnError;if(ne(r)){const u=r,w=[],C=n.keys();for(const j of C)!/^\$(inf|sub)\$/.test(j)&&u(n.get(j)._k)&&w.push(j);return Promise.all(w.map(x))}return x(r);async function x(u){const[w]=Cn(u);if(!w)return;const[C,j]=lr(n,w),[p,y,b,d]=te.get(n),k=()=>{const W=p[w];return(ne(a.revalidate)?a.revalidate(C().data,u):a.revalidate!==!1)&&(delete b[w],delete d[w],W&&W[0])?W[0](rr).then(()=>C().data):C().data};if(e.length<3)return k();let v=i,N,S=!1;const _=Lt();y[w]=[_,0];const M=!z(o),Y=C(),L=Y.data,V=Y._c,K=z(V)?L:V;if(M&&(o=ne(o)?o(K,L):o,j({data:o,_c:K})),ne(v))try{v=v(K)}catch(W){N=W,S=!0}if(v&&ar(v))if(v=await v.catch(W=>{N=W,S=!0}),_!==y[w][0]){if(S)throw N;return v}else S&&M&&m(N)&&(l=!0,j({data:K,_c:D}));if(l&&!S)if(ne(l)){const W=l(v,K);j({data:W,error:D,_c:D})}else j({data:v,error:D,_c:D});if(y[w][1]=Lt(),Promise.resolve(k()).then(()=>{j({_c:D})}),S){if(h)throw N;return}return v}}const Ft=(e,n)=>{for(const r in e)e[r][0]&&e[r][0](n)},Sn=(e,n)=>{if(!te.has(e)){const r=ce(mr,n),i=Object.create(null),s=br.bind(D,e);let a=se;const l=Object.create(null),c=(h,x)=>{const u=l[h]||[];return l[h]=u,u.push(x),()=>u.splice(u.indexOf(x),1)},o=(h,x,u)=>{e.set(h,x);const w=l[h];if(w)for(const C of w)C(x,u)},m=()=>{if(!te.has(e)&&(te.set(e,[i,Object.create(null),Object.create(null),Object.create(null),s,o,c]),!kt)){const h=r.initFocus(setTimeout.bind(D,Ft.bind(D,i,nr))),x=r.initReconnect(setTimeout.bind(D,Ft.bind(D,i,sr)));a=()=>{h&&h(),x&&x(),te.delete(e)}}};return m(),[e,s,m,a]}return[e,te.get(e)[4]]},vr=(e,n,r,i,s)=>{const a=r.errorRetryCount,l=s.retryCount,c=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;!z(a)&&l>a||setTimeout(i,c,s)},jr=mt,[Ct,yr]=Sn(new Map),wr=ce({onLoadingSlow:se,onSuccess:se,onError:se,onErrorRetry:vr,onDiscarded:se,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ut?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ut?5e3:3e3,compare:jr,isPaused:()=>!1,cache:Ct,mutate:yr,fallback:{}},hr),Nr=(e,n)=>{const r=ce(e,n);if(n){const{use:i,fallback:s}=e,{use:a,fallback:l}=n;i&&a&&(r.use=i.concat(a)),s&&l&&(r.fallback=ce(s,l))}return r},Dt=g.createContext({}),kr=e=>{const{value:n}=e,r=g.useContext(Dt),i=ne(n),s=g.useMemo(()=>i?n(r):n,[i,r,n]),a=g.useMemo(()=>i?s:Nr(r,s),[i,r,s]),l=s&&s.provider,c=g.useRef(D);l&&!c.current&&(c.current=Sn(l(a.cache||Ct),s));const o=c.current;return o&&(a.cache=o[0],a.mutate=o[1]),pr(()=>{if(o)return o[2]&&o[2](),o[3]},[]),g.createElement(Dt.Provider,ce(e,{value:a}))},Cr="$inf$",Pn=We&&window.__SWR_DEVTOOLS_USE__,Sr=Pn?window.__SWR_DEVTOOLS_USE__:[],Pr=()=>{Pn&&(window.__SWR_DEVTOOLS_REACT__=f)},_r=e=>(n,r,i)=>e(n,r&&((...a)=>{const[l]=Cn(n),[,,,c]=te.get(Ct);if(l.startsWith(Cr))return r(...a);const o=c[l];return z(o)?r(...a):(delete c[l],o)}),i);Sr.concat(_r);Pr();f.use;const Er=Le.defineProperty(kr,"defaultValue",{value:wr});var Bt=Object.prototype.hasOwnProperty;function Wt(e,n,r){for(r of e.keys())if(be(r,n))return r}function be(e,n){var r,i,s;if(e===n)return!0;if(e&&n&&(r=e.constructor)===n.constructor){if(r===Date)return e.getTime()===n.getTime();if(r===RegExp)return e.toString()===n.toString();if(r===Array){if((i=e.length)===n.length)for(;i--&&be(e[i],n[i]););return i===-1}if(r===Set){if(e.size!==n.size)return!1;for(i of e)if(s=i,s&&typeof s=="object"&&(s=Wt(n,s),!s)||!n.has(s))return!1;return!0}if(r===Map){if(e.size!==n.size)return!1;for(i of e)if(s=i[0],s&&typeof s=="object"&&(s=Wt(n,s),!s)||!be(i[1],n.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),n=new Uint8Array(n);else if(r===DataView){if((i=e.byteLength)===n.byteLength)for(;i--&&e.getInt8(i)===n.getInt8(i););return i===-1}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===n.byteLength)for(;i--&&e[i]===n[i];);return i===-1}if(!r||typeof e=="object"){i=0;for(r in e)if(Bt.call(e,r)&&++i&&!Bt.call(n,r)||!(r in n)||!be(e[r],n[r]))return!1;return Object.keys(n).length===i}}return e!==e&&n!==n}function Mr(e,n){if(!e)throw typeof n=="string"?new Error(n):new Error(`${n.displayName} not found`)}const G=(e,n)=>{const{assertCtxFn:r=Mr}={},i=f.createContext(void 0);return i.displayName=e,[i,()=>{const l=f.useContext(i);return r(l,`${e} not found`),l.value},()=>{const l=f.useContext(i);return l?l.value:{}}]};function Ir({swrConfig:e,children:n}){return f.createElement(Er,{value:e},n)}const[_n,Or]=G("ClerkInstanceContext"),[Rr]=G("UserContext"),[Ar]=G("ClientContext"),[Tr]=G("SessionContext");f.createContext({});const[Ur]=G("CheckoutContext"),Lr=({children:e,...n})=>f.createElement(Ur.Provider,{value:{value:n}},e),[Fr]=G("OrganizationContext"),Dr=({children:e,organization:n,swrConfig:r})=>f.createElement(Ir,{swrConfig:r},f.createElement(Fr.Provider,{value:{value:{organization:n}}},e));function Br(e){if(!f.useContext(_n)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?f.useLayoutEffect:f.useEffect;const zt=be,Wr=e=>{const n=g.useRef(e);return g.useEffect(()=>{n.current=e},[e]),n.current},F=(e,n,r)=>{const i=!!r,s=g.useRef(r);g.useEffect(()=>{s.current=r},[r]),g.useEffect(()=>{if(!i||!e)return()=>{};const a=(...l)=>{s.current&&s.current(...l)};return e.on(n,a),()=>{e.off(n,a)}},[i,n,e,s])},En=f.createContext(null);En.displayName="ElementsContext";const zr=(e,n)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${n} in an <Elements> provider.`);return e},Fe=e=>e!==null&&typeof e=="object",$r=(e,n,r)=>Fe(e)?Object.keys(e).reduce((i,s)=>{const a=!Fe(n)||!Mn(e[s],n[s]);return r.includes(s)?(a&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),i):a?{...i||{},[s]:e[s]}:i},null):null,$t="[object Object]",Mn=(e,n)=>{if(!Fe(e)||!Fe(n))return e===n;const r=Array.isArray(e);if(r!==Array.isArray(n))return!1;const i=Object.prototype.toString.call(e)===$t;if(i!==(Object.prototype.toString.call(n)===$t))return!1;if(!i&&!r)return e===n;const s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;const l={};for(let x=0;x<s.length;x+=1)l[s[x]]=!0;for(let x=0;x<a.length;x+=1)l[a[x]]=!0;const c=Object.keys(l);if(c.length!==s.length)return!1;const o=e,m=n,h=x=>Mn(o[x],m[x]);return c.every(h)},Yt=e=>zr(f.useContext(En),e),Yr=e=>e.charAt(0).toUpperCase()+e.slice(1),Vr=(e,n)=>{const r=`${Yr(e)}Element`,a=n?l=>{Yt(`mounts <${r}>`);const{id:c,className:o}=l;return f.createElement("div",{id:c,className:o})}:({id:l,className:c,fallback:o,options:m={},onBlur:h,onFocus:x,onReady:u,onChange:w,onEscape:C,onClick:j,onLoadError:p,onLoaderStart:y,onNetworksChange:b,onConfirm:d,onCancel:k,onShippingAddressChange:v,onShippingRateChange:N})=>{const S=Yt(`mounts <${r}>`),_="elements"in S?S.elements:null,[M,Y]=f.useState(null),L=f.useRef(null),V=f.useRef(null),[K,W]=g.useState(!1);F(M,"blur",h),F(M,"focus",x),F(M,"escape",C),F(M,"click",j),F(M,"loaderror",p),F(M,"loaderstart",y),F(M,"networkschange",b),F(M,"confirm",d),F(M,"cancel",k),F(M,"shippingaddresschange",v),F(M,"shippingratechange",N),F(M,"change",w);let Je;u&&(Je=()=>{W(!0),u(M)}),F(M,"ready",Je),f.useLayoutEffect(()=>{if(L.current===null&&V.current!==null&&_){let J=null;_&&(J=_.create(e,m)),L.current=J,Y(J),J&&J.mount(V.current)}},[_,m]);const It=Wr(m);return f.useEffect(()=>{if(!L.current)return;const J=$r(m,It,["paymentRequest"]);J&&"update"in L.current&&L.current.update(J)},[m,It]),f.useLayoutEffect(()=>()=>{if(L.current&&typeof L.current.destroy=="function")try{L.current.destroy(),L.current=null}catch{}},[]),f.createElement(f.Fragment,null,!K&&o,f.createElement("div",{id:l,style:{height:K?"unset":"0px",visibility:K?"visible":"hidden"},className:c,ref:V}))};return a.displayName=r,a.__elementType=e,a};Vr("payment",typeof window>"u");G("PaymentElementContext");G("StripeUtilsContext");var $=jn({packageName:"@clerk/clerk-react"});function Hr(e){$.setMessages(e).setPackageName(e)}var[Kr,qr]=G("AuthContext"),Gr=_n,In=Or,Jr="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Xr=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,Qr="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",nt="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Zr="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",ea="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",ta="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",na="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",sa=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,ra=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,aa=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,ia="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",la="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",oa="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",ca="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",da="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",ua="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",ha="Missing props. <UserButton.Action /> component requires the following props: label.",On=e=>{Br(()=>{$.throwMissingClerkProviderError({source:e})})},Rn=e=>new Promise(n=>{const r=i=>{["ready","degraded"].includes(i)&&(n(),e.off("status",r))};e.on("status",r,{notify:!0})}),ma=e=>async n=>(await Rn(e),e.session?e.session.getToken(n):null),pa=e=>async(...n)=>(await Rn(e),e.signOut(...n)),xa=(e={})=>{var n;On("useAuth");const{treatPendingAsSignedOut:r,...i}=e??{},s=i;let l=qr();l.sessionId===void 0&&l.userId===void 0&&(l=s??{});const c=In(),o=g.useCallback(ma(c),[c]),m=g.useCallback(pa(c),[c]);return(n=c.telemetry)==null||n.record(Vs("useAuth",{treatPendingAsSignedOut:r})),fa({...l,getToken:o,signOut:m},{treatPendingAsSignedOut:r})};function fa(e,{treatPendingAsSignedOut:n=!0}={}){const{userId:r,orgId:i,orgRole:s,has:a,signOut:l,getToken:c,orgPermissions:o,factorVerificationAge:m,sessionClaims:h}=e??{},x=g.useCallback(w=>a?a(w):Fs({userId:r,orgId:i,orgRole:s,orgPermissions:o,factorVerificationAge:m,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(w),[a,r,i,s,o,m,h]),u=Ds({authObject:{...e,getToken:c,signOut:l,has:x},options:{treatPendingAsSignedOut:n}});return u||$.throw(Qr)}var P=(e,n)=>{const i=(typeof n=="string"?n:n==null?void 0:n.component)||e.displayName||e.name||"Component";e.displayName=i;const s=typeof n=="string"?void 0:n,a=l=>{On(i||"withClerk");const c=In();return!c.loaded&&!(s!=null&&s.renderWhileLoading)?null:f.createElement(e,{...l,component:i,clerk:c})};return a.displayName=`withClerk(${i})`,a};const ga=()=>{try{return!1}catch{}return!1},ba=()=>{try{return!1}catch{}return!1},va=()=>{try{return!0}catch{}return!1},Vt=new Set,St=(e,n,r)=>{const i=ba()||va(),s=e;Vt.has(s)||i||(Vt.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${n}`))};P(({clerk:e,...n})=>{const{client:r,session:i}=e,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return f.useEffect(()=>{i===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(n)},[]),null},"RedirectToSignIn");P(({clerk:e,...n})=>(f.useEffect(()=>{e.redirectToSignUp(n)},[]),null),"RedirectToSignUp");P(({clerk:e,...n})=>(f.useEffect(()=>{e.redirectToTasks(n)},[]),null),"RedirectToTasks");P(({clerk:e})=>(f.useEffect(()=>{St("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");P(({clerk:e})=>(f.useEffect(()=>{St("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");P(({clerk:e})=>(f.useEffect(()=>{St("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");P(({clerk:e,...n})=>(f.useEffect(()=>{e.handleRedirectCallback(n)},[]),null),"AuthenticateWithRedirectCallback");function st(e,n,r){if(typeof e=="function")return e(n);if(typeof e<"u")return e;if(typeof r<"u")return r}const U=e=>{ga()&&console.error(`Clerk: ${e}`)},Ht=(e,...n)=>{const r={...e};for(const i of n)delete r[i];return r};var ze=e=>n=>{try{return f.Children.only(e)}catch{return $.throw(Xr(n))}},$e=(e,n)=>(e||(e=n),typeof e=="string"&&(e=f.createElement("button",null,e)),e),Ye=e=>(...n)=>{if(e&&typeof e=="function")return e(...n)};function ja(e){return typeof e=="function"}var _e=new Map;function ya(e,n,r=1){f.useEffect(()=>{const i=_e.get(e)||0;return i==r?$.throw(n):(_e.set(e,i+1),()=>{_e.set(e,(_e.get(e)||1)-1)})},[])}function wa(e,n,r){const i=e.displayName||e.name||n||"Component",s=a=>(ya(n,r),f.createElement(e,{...a}));return s.displayName=`withMaxAllowedInstancesGuard(${i})`,s}var ve=e=>{const[n,r]=g.useState(new Map);return e.map(i=>({id:i.id,mount:s=>r(a=>new Map(a).set(String(i.id),s)),unmount:()=>r(s=>{const a=new Map(s);return a.set(String(i.id),null),a}),portal:()=>{const s=n.get(String(i.id));return s?gn.createPortal(i.component,s):null}}))},T=(e,n)=>!!e&&f.isValidElement(e)&&(e==null?void 0:e.type)===n,An=(e,n)=>Ln({children:e,reorderItemsLabels:["account","security","billing","apiKeys"],LinkComponent:Ne,PageComponent:we,MenuItemsComponent:He,componentName:"UserProfile"},n),Tn=(e,n)=>Ln({children:e,reorderItemsLabels:["general","members","billing","apiKeys"],LinkComponent:qe,PageComponent:Ke,componentName:"OrganizationProfile"},n),Un=e=>{const n=[],r=[qe,Ke,He,we,Ne];return f.Children.forEach(e,i=>{r.some(s=>T(i,s))||n.push(i)}),n},Ln=(e,n)=>{const{children:r,LinkComponent:i,PageComponent:s,MenuItemsComponent:a,reorderItemsLabels:l,componentName:c}=e,{allowForAnyChildren:o=!1}=n||{},m=[];f.Children.forEach(r,b=>{if(!T(b,s)&&!T(b,i)&&!T(b,a)){b&&!o&&U(sa(c));return}const{props:d}=b,{children:k,label:v,url:N,labelIcon:S}=d;if(T(b,s))if(Kt(d,l))m.push({label:v});else if(rt(d))m.push({label:v,labelIcon:S,children:k,url:N});else{U(ra(c));return}if(T(b,i))if(at(d))m.push({label:v,labelIcon:S,url:N});else{U(aa(c));return}});const h=[],x=[],u=[];m.forEach((b,d)=>{if(rt(b)){h.push({component:b.children,id:d}),x.push({component:b.labelIcon,id:d});return}at(b)&&u.push({component:b.labelIcon,id:d})});const w=ve(h),C=ve(x),j=ve(u),p=[],y=[];return m.forEach((b,d)=>{if(Kt(b,l)){p.push({label:b.label});return}if(rt(b)){const{portal:k,mount:v,unmount:N}=w.find(Y=>Y.id===d),{portal:S,mount:_,unmount:M}=C.find(Y=>Y.id===d);p.push({label:b.label,url:b.url,mount:v,unmount:N,mountIcon:_,unmountIcon:M}),y.push(k),y.push(S);return}if(at(b)){const{portal:k,mount:v,unmount:N}=j.find(S=>S.id===d);p.push({label:b.label,url:b.url,mountIcon:v,unmountIcon:N}),y.push(k);return}}),{customPages:p,customPagesPortals:y}},Kt=(e,n)=>{const{children:r,label:i,url:s,labelIcon:a}=e;return!r&&!s&&!a&&n.some(l=>l===i)},rt=e=>{const{children:n,label:r,url:i,labelIcon:s}=e;return!!n&&!!i&&!!s&&!!r},at=e=>{const{children:n,label:r,url:i,labelIcon:s}=e;return!n&&!!i&&!!s&&!!r},Na=(e,n)=>{var r;return ka({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:He,MenuActionComponent:Dn,MenuLinkComponent:Bn,UserProfileLinkComponent:Ne,UserProfilePageComponent:we,allowForAnyChildren:(r=n==null?void 0:n.allowForAnyChildren)!=null?r:!1})},ka=({children:e,MenuItemsComponent:n,MenuActionComponent:r,MenuLinkComponent:i,UserProfileLinkComponent:s,UserProfilePageComponent:a,reorderItemsLabels:l,allowForAnyChildren:c=!1})=>{const o=[],m=[],h=[];f.Children.forEach(e,j=>{if(!T(j,n)&&!T(j,s)&&!T(j,a)){j&&!c&&U(ia);return}if(T(j,s)||T(j,a))return;const{props:p}=j;f.Children.forEach(p.children,y=>{if(!T(y,r)&&!T(y,i)){y&&U(la);return}const{props:b}=y,{label:d,labelIcon:k,href:v,onClick:N,open:S}=b;if(T(y,r))if(qt(b,l))o.push({label:d});else if(it(b)){const _={label:d,labelIcon:k};if(N!==void 0)o.push({..._,onClick:N});else if(S!==void 0)o.push({..._,open:S.startsWith("/")?S:`/${S}`});else{U("Custom menu item must have either onClick or open property");return}}else{U(ha);return}if(T(y,i))if(lt(b))o.push({label:d,labelIcon:k,href:v});else{U(ua);return}})});const x=[],u=[];o.forEach((j,p)=>{it(j)&&x.push({component:j.labelIcon,id:p}),lt(j)&&u.push({component:j.labelIcon,id:p})});const w=ve(x),C=ve(u);return o.forEach((j,p)=>{if(qt(j,l)&&m.push({label:j.label}),it(j)){const{portal:y,mount:b,unmount:d}=w.find(v=>v.id===p),k={label:j.label,mountIcon:b,unmountIcon:d};"onClick"in j?k.onClick=j.onClick:"open"in j&&(k.open=j.open),m.push(k),h.push(y)}if(lt(j)){const{portal:y,mount:b,unmount:d}=C.find(k=>k.id===p);m.push({label:j.label,href:j.href,mountIcon:b,unmountIcon:d}),h.push(y)}}),{customMenuItems:m,customMenuItemsPortals:h}},qt=(e,n)=>{const{children:r,label:i,onClick:s,labelIcon:a}=e;return!r&&!s&&!a&&n.some(l=>l===i)},it=e=>{const{label:n,labelIcon:r,onClick:i,open:s}=e;return!!r&&!!n&&(typeof i=="function"||typeof s=="string")},lt=e=>{const{label:n,href:r,labelIcon:i}=e;return!!r&&!!i&&!!n},Ca=e=>{const n=e==null?void 0:e.isReady;return r=>new Promise((i,s)=>{const{root:a=document==null?void 0:document.body,selector:l,timeout:c=0}=r;if(!a){s(new Error("No root element provided"));return}let o=a;if(l&&(o=a==null?void 0:a.querySelector(l)),n(o,l)){i();return}const m=new MutationObserver(h=>{for(const x of h)if(!o&&l&&(o=a==null?void 0:a.querySelector(l)),(e.childList&&x.type==="childList"||e.attributes&&x.type==="attributes")&&n(o,l)){m.disconnect(),i();return}});m.observe(a,e),c>0&&setTimeout(()=>{m.disconnect(),s(new Error(`Timeout waiting for ${l}`))},c)})},Sa=Ca({childList:!0,subtree:!0,isReady:(e,n)=>{var r;return!!(e!=null&&e.childElementCount)&&((r=e==null?void 0:e.matches)==null?void 0:r.call(e,n))&&e.childElementCount>0}});function A(e,n){const r=g.useRef(),[i,s]=g.useState("rendering");return g.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const a=`[data-clerk-component="${e}"]`,l=n==null?void 0:n.selector;r.current=Sa({selector:l?a+l:a}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,n==null?void 0:n.selector]),i}var Ee=e=>"mount"in e,Gt=e=>"open"in e,Jt=e=>e==null?void 0:e.map(({mountIcon:n,unmountIcon:r,...i})=>i),O=class extends f.PureComponent{constructor(){super(...arguments),this.rootRef=f.createRef()}componentDidUpdate(e){var n,r,i,s;if(!Ee(e)||!Ee(this.props))return;const a=Ht(e.props,"customPages","customMenuItems","children"),l=Ht(this.props.props,"customPages","customMenuItems","children"),c=((n=a.customPages)==null?void 0:n.length)!==((r=l.customPages)==null?void 0:r.length),o=((i=a.customMenuItems)==null?void 0:i.length)!==((s=l.customMenuItems)==null?void 0:s.length),m=Jt(e.props.customMenuItems),h=Jt(this.props.props.customMenuItems);(!zt(a,l)||!zt(m,h)||c||o)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Ee(this.props)&&this.props.mount(this.rootRef.current,this.props.props),Gt(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Ee(this.props)&&this.props.unmount(this.rootRef.current),Gt(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,n={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return f.createElement(f.Fragment,null,!e&&f.createElement("div",{...n}),this.props.children)}},Ve=e=>{var n,r;return f.createElement(f.Fragment,null,(n=e==null?void 0:e.customPagesPortals)==null?void 0:n.map((i,s)=>g.createElement(i,{key:s})),(r=e==null?void 0:e.customMenuItemsPortals)==null?void 0:r.map((i,s)=>g.createElement(i,{key:s})))};P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"SignIn",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"SignUp",renderWhileLoading:!0});function we({children:e}){return U(Zr),f.createElement(f.Fragment,null,e)}function Ne({children:e}){return U(ea),f.createElement(f.Fragment,null,e)}var Pa=P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:o}=An(i.children);return f.createElement(f.Fragment,null,a&&r,f.createElement(O,{component:n,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:c},rootProps:l},f.createElement(Ve,{customPagesPortals:o})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Pa,{Page:we,Link:Ne});var Fn=g.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),_a=P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:o}=An(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),m={...i.userProfileProps,customPages:c},{customMenuItems:h,customMenuItemsPortals:x}=Na(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),u=Un(i.children),w={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...i,userProfileProps:m,customMenuItems:h}},C={customPagesPortals:o,customMenuItemsPortals:x};return f.createElement(Fn.Provider,{value:w},a&&r,e.loaded&&f.createElement(O,{component:n,...w,hideRootHtmlElement:!!i.__experimental_asProvider,rootProps:l},i.__experimental_asProvider?u:null,f.createElement(Ve,{...C})))},{component:"UserButton",renderWhileLoading:!0});function He({children:e}){return U(oa),f.createElement(f.Fragment,null,e)}function Dn({children:e}){return U(ca),f.createElement(f.Fragment,null,e)}function Bn({children:e}){return U(da),f.createElement(f.Fragment,null,e)}function Ea(e){const n=g.useContext(Fn),r={...n,props:{...n.props,...e}};return f.createElement(O,{...r})}Object.assign(_a,{UserProfilePage:we,UserProfileLink:Ne,MenuItems:He,Action:Dn,Link:Bn,__experimental_Outlet:Ea});function Ke({children:e}){return U(ta),f.createElement(f.Fragment,null,e)}function qe({children:e}){return U(na),f.createElement(f.Fragment,null,e)}var Ma=P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:o}=Tn(i.children);return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:c},rootProps:l},f.createElement(Ve,{customPagesPortals:o})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Ma,{Page:Ke,Link:qe});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"CreateOrganization",renderWhileLoading:!0});var Wn=g.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Ia=P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:o}=Tn(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),m={...i.organizationProfileProps,customPages:c},h=Un(i.children),x={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...i,organizationProfileProps:m},rootProps:l,component:n};return e.__experimental_prefetchOrganizationSwitcher(),f.createElement(Wn.Provider,{value:x},f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{...x,hideRootHtmlElement:!!i.__experimental_asProvider},i.__experimental_asProvider?h:null,f.createElement(Ve,{customPagesPortals:o}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Oa(e){const n=g.useContext(Wn),r={...n,props:{...n.props,...e}};return f.createElement(O,{...r})}Object.assign(Ia,{OrganizationProfilePage:Ke,OrganizationProfileLink:qe,__experimental_Outlet:Oa});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"OrganizationList",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"GoogleOneTap",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"Waitlist",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"PricingTable",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountAPIKeys,unmount:e.unmountAPIKeys,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"ApiKeys",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountUserAvatar,unmount:e.unmountUserAvatar,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"UserAvatar",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountTaskResetPassword,unmount:e.unmountTaskResetPassword,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"TaskResetPassword",renderWhileLoading:!0});P(({clerk:e,component:n,fallback:r,...i})=>{const a=A(n)==="rendering"||!e.loaded,l={...a&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,a&&r,e.loaded&&f.createElement(O,{component:n,mount:e.mountTaskSetupMFA,unmount:e.unmountTaskSetupMFA,updateProps:e.__unstable__updateProps,props:i,rootProps:l}))},{component:"TaskSetupMFA",renderWhileLoading:!0});var zn=e=>{throw TypeError(e)},Pt=(e,n,r)=>n.has(e)||zn("Cannot "+r),E=(e,n,r)=>(Pt(e,n,"read from private field"),r?r.call(e):n.get(e)),X=(e,n,r)=>n.has(e)?zn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),ae=(e,n,r,i)=>(Pt(e,n,"write to private field"),n.set(e,r),r),ot=(e,n,r)=>(Pt(e,n,"access private method"),r);const Ra={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,n)=>n<5,retryImmediately:!1,jitter:!0},Aa=100,$n=async e=>new Promise(n=>setTimeout(n,e)),Yn=(e,n)=>n?e*(1+Math.random()):e,Ta=e=>{let n=0;const r=()=>{const i=e.initialDelay,s=e.factor;let a=i*Math.pow(s,n);return a=Yn(a,e.jitter),Math.min(e.maxDelayBetweenRetries||a,a)};return async()=>{await $n(r()),n++}},Ua=async(e,n={})=>{let r=0;const{shouldRetry:i,initialDelay:s,maxDelayBetweenRetries:a,factor:l,retryImmediately:c,jitter:o,onBeforeRetry:m}={...Ra,...n},h=Ta({initialDelay:s,maxDelayBetweenRetries:a,factor:l,jitter:o});for(;;)try{return await e()}catch(x){if(r++,!i(x,r))throw x;m&&await m(r),c&&r===1?await $n(Yn(Aa,o)):await h()}},La="loadScript cannot be called when document does not exist",Fa="loadScript cannot be called without a src";async function Da(e="",n){const{async:r,defer:i,beforeLoad:s,crossOrigin:a,nonce:l}=n||{};return Ua(()=>new Promise((o,m)=>{e||m(new Error(Fa)),(!document||!document.body)&&m(new Error(La));const h=document.createElement("script");a&&h.setAttribute("crossorigin",a),h.async=r||!1,h.defer=i||!1,h.addEventListener("load",()=>{h.remove(),o(h)}),h.addEventListener("error",x=>{h.remove(),m(x.error??new Error(`failed to load script: ${e}`))}),h.src=e,h.nonce=l,s==null||s(h),document.body.appendChild(h)}),{shouldRetry:(o,m)=>m<=5})}function Ba(e){return e?Wa(e)||Vn(e):!0}function Wa(e){return/^http(s)?:\/\//.test(e||"")}function Vn(e){return e.startsWith("/")}function za(e){return e?Vn(e)?new URL(e,window.location.origin).toString():e:""}function $a(e){if(!e)return"";let n;if(e.match(/^(clerk\.)+\w*$/))n=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;n=/^(clerk\.)*/gi}return`clerk.${e.replace(n,"")}`}const Ya=(e,n="5.124.0")=>{if(e)return e;const r=Va(n);return r?r==="snapshot"?"5.124.0":r:Ha(n)},Va=e=>{var n;return(n=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:n[1]},Ha=e=>e.trim().replace(/^v/,"").split(".")[0],Hn="failed_to_load_clerk_js",Ka="failed_to_load_clerk_js_timeout",vt="Failed to load Clerk",{isDevOrStagingUrl:qa}=zs(),Kn=jn({packageName:"@clerk/shared"});function Ga(e){Kn.setPackageName({packageName:e})}function jt(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function Ja(e){if(typeof window>"u"||!window.performance)return!1;const n=performance.getEntriesByName(e,"resource");if(n.length===0)return!1;const r=n[n.length-1];return r.transferSize===0&&r.decodedBodySize===0&&(r.responseEnd===0||r.responseEnd>0&&r.responseStart>0||"responseStatus"in r&&(r.responseStatus>=400||r.responseStatus===0))}function Xt(e,n){return new Promise((r,i)=>{let s=!1;const a=(h,x)=>{clearTimeout(h),clearInterval(x)};n==null||n.addEventListener("error",()=>{a(o,m),i(new ut(vt,{code:Hn}))});const l=()=>{s||jt()&&(s=!0,a(o,m),r(null))},o=setTimeout(()=>{s||(s=!0,a(o,m),jt()?r(null):i(new ut(vt,{code:Ka})))},e);l();const m=setInterval(()=>{if(s){clearInterval(m);return}l()},100)})}const Xa=async e=>{const n=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(jt())return null;if(!(e!=null&&e.publishableKey))return Kn.throwMissingPublishableKeyError(),null;const r=Qa(e),i=document.querySelector("script[data-clerk-js-script]");if(i)if(Ja(r))i.remove();else try{return await Xt(n,i),null}catch{i.remove()}const s=Xt(n);return Da(r,{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:ei(e)}).catch(a=>{throw new ut(vt+(a.message?`, ${a.message}`:""),{code:Hn,cause:a})}),s},Qa=e=>{var h,x;const{clerkJSUrl:n,clerkJSVariant:r,clerkJSVersion:i,proxyUrl:s,domain:a,publishableKey:l}=e;if(n)return n;let c="";s&&Ba(s)?c=za(s).replace(/http(s)?:\/\//,""):a&&!qa(((h=At(l))==null?void 0:h.frontendApi)||"")?c=$a(a):c=((x=At(l))==null?void 0:x.frontendApi)||"";const o=r?`${r.replace(/\.+$/,"")}.`:"",m=Ya(i);return`https://${c}/npm/@clerk/clerk-js@${m}/dist/clerk.${o}browser.js`},Za=e=>{const n={};return e.publishableKey&&(n["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(n["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(n["data-clerk-domain"]=e.domain),e.nonce&&(n.nonce=e.nonce),n},ei=e=>n=>{const r=Za(e);for(const i in r)n.setAttribute(i,r[i])},ti=(e,n,r)=>!e&&r?ni(r):si(n),ni=e=>{const n=e.userId,r=e.user,i=e.sessionId,s=e.sessionStatus,a=e.sessionClaims;return{userId:n,user:r,sessionId:i,session:e.session,sessionStatus:s,sessionClaims:a,organization:e.organization,orgId:e.orgId,orgRole:e.orgRole,orgPermissions:e.orgPermissions,orgSlug:e.orgSlug,actor:e.actor,factorVerificationAge:e.factorVerificationAge}},si=e=>{var C,j,p,y;const n=e.user?e.user.id:e.user,r=e.user,i=e.session?e.session.id:e.session,s=e.session,a=(C=e.session)==null?void 0:C.status,l=e.session?(p=(j=e.session.lastActiveToken)==null?void 0:j.jwt)==null?void 0:p.claims:null,c=e.session?e.session.factorVerificationAge:null,o=s==null?void 0:s.actor,m=e.organization,h=e.organization?e.organization.id:e.organization,x=m==null?void 0:m.slug,u=m&&((y=r==null?void 0:r.organizationMemberships)==null?void 0:y.find(b=>b.organization.id===h)),w=u&&u.permissions;return{userId:n,user:r,sessionId:i,session:s,sessionStatus:a,sessionClaims:l,organization:m,orgId:h,orgRole:u&&u.role,orgSlug:x,orgPermissions:w,actor:o,factorVerificationAge:c}};function De(){return typeof window<"u"}const Qt=(e,n,r,i,s)=>{const{notify:a}=s||{};let l=e.get(r);l||(l=[],e.set(r,l)),l.push(i),a&&n.has(r)&&i(n.get(r))},Zt=(e,n,r)=>(e.get(n)||[]).map(i=>i(r)),en=(e,n,r)=>{const i=e.get(n);i&&(r?i.splice(i.indexOf(r)>>>0,1):e.set(n,[]))},ri=()=>{const e=new Map,n=new Map,r=new Map;return{on:(...s)=>Qt(e,n,...s),prioritizedOn:(...s)=>Qt(r,n,...s),emit:(s,a)=>{n.set(s,a),Zt(r,s,a),Zt(e,s,a)},off:(...s)=>en(e,...s),prioritizedOff:(...s)=>en(r,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},Me={Status:"status"},ai=()=>ri();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);P(({clerk:e,children:n,...r})=>{const{appearance:i,signUpFallbackRedirectUrl:s,forceRedirectUrl:a,fallbackRedirectUrl:l,signUpForceRedirectUrl:c,mode:o,initialValues:m,withSignUp:h,oauthFlow:x,...u}=r;n=$e(n,"Sign in");const w=ze(n)("SignInButton"),C=()=>{const y={forceRedirectUrl:a,fallbackRedirectUrl:l,signUpFallbackRedirectUrl:s,signUpForceRedirectUrl:c,initialValues:m,withSignUp:h,oauthFlow:x};return o==="modal"?e.openSignIn({...y,appearance:i}):e.redirectToSignIn({...y,signInFallbackRedirectUrl:l,signInForceRedirectUrl:a})},p={...u,onClick:async y=>(w&&typeof w=="object"&&"props"in w&&await Ye(w.props.onClick)(y),C())};return f.cloneElement(w,p)},{component:"SignInButton",renderWhileLoading:!0});P(({clerk:e,children:n,...r})=>{const{redirectUrl:i,...s}=r;n=$e(n,"Sign in with Metamask");const a=ze(n)("SignInWithMetamaskButton"),l=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:i||void 0})}m()},o={...s,onClick:async m=>(await Ye(a.props.onClick)(m),l())};return f.cloneElement(a,o)},{component:"SignInWithMetamask",renderWhileLoading:!0});P(({clerk:e,children:n,...r})=>{const{redirectUrl:i="/",signOutOptions:s,...a}=r;n=$e(n,"Sign out");const l=ze(n)("SignOutButton"),c=()=>e.signOut({redirectUrl:i,...s}),m={...a,onClick:async h=>(await Ye(l.props.onClick)(h),c())};return f.cloneElement(l,m)},{component:"SignOutButton",renderWhileLoading:!0});P(({clerk:e,children:n,...r})=>{const{appearance:i,unsafeMetadata:s,fallbackRedirectUrl:a,forceRedirectUrl:l,signInFallbackRedirectUrl:c,signInForceRedirectUrl:o,mode:m,initialValues:h,oauthFlow:x,...u}=r;n=$e(n,"Sign up");const w=ze(n)("SignUpButton"),C=()=>{const y={fallbackRedirectUrl:a,forceRedirectUrl:l,signInFallbackRedirectUrl:c,signInForceRedirectUrl:o,initialValues:h,oauthFlow:x};return m==="modal"?e.openSignUp({...y,appearance:i,unsafeMetadata:s}):e.redirectToSignUp({...y,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:l})},p={...u,onClick:async y=>(w&&typeof w=="object"&&"props"in w&&await Ye(w.props.onClick)(y),C())};return f.cloneElement(w,p)},{component:"SignUpButton",renderWhileLoading:!0});var ii=()=>({fields:{identifier:null,password:null,code:null},raw:null,global:null}),li=()=>({fields:{firstName:null,lastName:null,emailAddress:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),oi=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=this.gateProperty.bind(this),n=()=>this.client.signIn.__internal_future;return{errors:ii(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return e(n,"id",void 0)},get supportedFirstFactors(){return e(n,"supportedFirstFactors",[])},get supportedSecondFactors(){return e(n,"supportedSecondFactors",[])},get secondFactorVerification(){return e(n,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return e(n,"identifier",null)},get createdSessionId(){return e(n,"createdSessionId",null)},get userData(){return e(n,"userData",{})},get firstFactorVerification(){return e(n,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(n,"create"),password:this.gateMethod(n,"password"),sso:this.gateMethod(n,"sso"),finalize:this.gateMethod(n,"finalize"),emailCode:this.wrapMethods(()=>n().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>n().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>n().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>n().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>n().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(n,"ticket"),passkey:this.gateMethod(n,"passkey"),web3:this.gateMethod(n,"web3")}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),n=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),i=()=>this.client.signUp.__internal_future;return{errors:li(),fetchStatus:"idle",signUp:{get id(){return e(i,"id",void 0)},get requiredFields(){return e(i,"requiredFields",[])},get optionalFields(){return e(i,"optionalFields",[])},get missingFields(){return e(i,"missingFields",[])},get username(){return e(i,"username",null)},get firstName(){return e(i,"firstName",null)},get lastName(){return e(i,"lastName",null)},get emailAddress(){return e(i,"emailAddress",null)},get phoneNumber(){return e(i,"phoneNumber",null)},get web3Wallet(){return e(i,"web3Wallet",null)},get hasPassword(){return e(i,"hasPassword",!1)},get unsafeMetadata(){return e(i,"unsafeMetadata",{})},get createdSessionId(){return e(i,"createdSessionId",null)},get createdUserId(){return e(i,"createdUserId",null)},get abandonAt(){return e(i,"abandonAt",null)},get legalAcceptedAt(){return e(i,"legalAcceptedAt",null)},get locale(){return e(i,"locale",null)},get status(){return e(i,"status","missing_requirements")},get unverifiedFields(){return e(i,"unverifiedFields",[])},get isTransferable(){return e(i,"isTransferable",!1)},create:n(i,"create"),update:n(i,"update"),sso:n(i,"sso"),password:n(i,"password"),ticket:n(i,"ticket"),web3:n(i,"web3"),finalize:n(i,"finalize"),verifications:r(()=>i().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,n,r){return!De()||!this.isomorphicClerk.loaded?r:e()[n]}gateMethod(e,n){return async(...r)=>{if(!De())return $.throw(`Attempted to call a method (${n}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const i=e();return i[n].apply(i,r)}}wrapMethods(e,n){return Object.fromEntries(n.map(r=>[r,this.gateMethod(e,r)]))}wrapStruct(e,n,r,i){const s={};for(const a of n)s[a]=this.gateMethod(e,a);for(const a of r)Object.defineProperty(s,a,{get:()=>this.gateProperty(e,a,i[a]),enumerable:!0});return s}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var ci={name:"@clerk/clerk-react",version:"5.61.0",environment:"production"},Re,ue,he,Q,H,Ae,ee,ge,Te,qn=class Gn{constructor(n){X(this,ge),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenEnableOrganizationsPrompt=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountAPIKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountTaskResetPasswordNodes=new Map,this.premountTaskSetupMFANodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],X(this,Re,"loading"),X(this,ue),X(this,he),X(this,Q),X(this,H,ai()),X(this,Ae),this.buildSignInUrl=s=>{const a=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignInUrl",a)},this.buildSignUpUrl=s=>{const a=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignUpUrl",a)},this.buildAfterSignInUrl=(...s)=>{const a=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignInUrl",a)},this.buildAfterSignUpUrl=(...s)=>{const a=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignUpUrl",a)},this.buildAfterSignOutUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const a=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUrlWithAuth",a)},this.handleUnauthenticated=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var a;if((a=this.clerkjs)!=null&&a.on)return this.clerkjs.on(...s);E(this,H).on(...s)},this.off=(...s)=>{var a;if((a=this.clerkjs)!=null&&a.off)return this.clerkjs.off(...s);E(this,H).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var a,l;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(c=>c()),this.premountAddListenerCalls.forEach((c,o)=>{c.nativeUnsubscribe=s.addListener(o)}),(a=E(this,H).internal.retrieveListeners("status"))==null||a.forEach(c=>{this.on("status",c,{notify:!0})}),(l=E(this,H).internal.retrieveListeners("queryClientStatus"))==null||l.forEach(c=>{this.on("queryClientStatus",c,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.preopenEnableOrganizationsPrompt&&s.__internal_openEnableOrganizationsPrompt(this.preopenEnableOrganizationsPrompt),this.premountSignInNodes.forEach((c,o)=>{s.mountSignIn(o,c)}),this.premountSignUpNodes.forEach((c,o)=>{s.mountSignUp(o,c)}),this.premountUserProfileNodes.forEach((c,o)=>{s.mountUserProfile(o,c)}),this.premountUserAvatarNodes.forEach((c,o)=>{s.mountUserAvatar(o,c)}),this.premountUserButtonNodes.forEach((c,o)=>{s.mountUserButton(o,c)}),this.premountOrganizationListNodes.forEach((c,o)=>{s.mountOrganizationList(o,c)}),this.premountWaitlistNodes.forEach((c,o)=>{s.mountWaitlist(o,c)}),this.premountPricingTableNodes.forEach((c,o)=>{s.mountPricingTable(o,c)}),this.premountAPIKeysNodes.forEach((c,o)=>{s.mountAPIKeys(o,c)}),this.premountOAuthConsentNodes.forEach((c,o)=>{s.__internal_mountOAuthConsent(o,c)}),this.premountTaskChooseOrganizationNodes.forEach((c,o)=>{s.mountTaskChooseOrganization(o,c)}),this.premountTaskResetPasswordNodes.forEach((c,o)=>{s.mountTaskResetPassword(o,c)}),this.premountTaskSetupMFANodes.forEach((c,o)=>{s.mountTaskSetupMFA(o,c)}),typeof this.clerkjs.status>"u"&&E(this,H).emit(Me.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const a=await ot(this,ge,Te).call(this);if(a&&"__unstable__updateProps"in a)return a.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.__internal_openEnableOrganizationsPrompt=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openEnableOrganizationsPrompt(s):this.preopenEnableOrganizationsPrompt=s},this.__internal_closeEnableOrganizationsPrompt=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeEnableOrganizationsPrompt():this.preopenEnableOrganizationsPrompt=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,a):this.premountSignInNodes.set(s,a)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,a):this.premountSignUpNodes.set(s,a)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserAvatar=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(s,a):this.premountUserAvatarNodes.set(s,a)},this.unmountUserAvatar=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(s):this.premountUserAvatarNodes.delete(s)},this.mountUserProfile=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,a):this.premountUserProfileNodes.set(s,a)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,a):this.premountOrganizationProfileNodes.set(s,a)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,a):this.premountCreateOrganizationNodes.set(s,a)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,a):this.premountOrganizationSwitcherNodes.set(s,a)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,a):this.premountOrganizationListNodes.set(s,a)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,a):this.premountUserButtonNodes.set(s,a)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,a):this.premountWaitlistNodes.set(s,a)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,a):this.premountPricingTableNodes.set(s,a)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountAPIKeys=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountAPIKeys(s,a):this.premountAPIKeysNodes.set(s,a)},this.unmountAPIKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountAPIKeys(s):this.premountAPIKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,a):this.premountOAuthConsentNodes.set(s,a)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,a):this.premountTaskChooseOrganizationNodes.set(s,a)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.mountTaskResetPassword=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskResetPassword(s,a):this.premountTaskResetPasswordNodes.set(s,a)},this.unmountTaskResetPassword=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskResetPassword(s):this.premountTaskResetPasswordNodes.delete(s)},this.mountTaskSetupMFA=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSetupMFA(s,a):this.premountTaskSetupMFANodes.set(s,a)},this.unmountTaskSetupMFA=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSetupMFA(s):this.premountTaskSetupMFANodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const a=()=>{var l;const c=this.premountAddListenerCalls.get(s);c&&((l=c.nativeUnsubscribe)==null||l.call(c),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:a,nativeUnsubscribe:void 0}),a}},this.navigate=s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.navigate(s)};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("navigate",a)},this.redirectWithAuth=async(...s)=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectWithAuth",a)},this.redirectToSignIn=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignIn",a)},this.redirectToSignUp=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignUp",a)},this.redirectToUserProfile=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToTasks",a)},this.handleRedirectCallback=async s=>{var a;const l=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(a=l())==null||a.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",l)},this.handleGoogleOneTapCallback=async(s,a)=>{var l;const c=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleGoogleOneTapCallback(s,a)};this.clerkjs&&this.loaded?(l=c())==null||l.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",c)},this.handleEmailLinkVerification=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("handleEmailLinkVerification",a)},this.authenticateWithMetamask=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithMetamask",a)},this.authenticateWithCoinbaseWallet=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",a)},this.authenticateWithBase=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithBase",a)},this.authenticateWithOKXWallet=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithOKXWallet",a)},this.authenticateWithSolana=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithSolana(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithSolana",a)},this.authenticateWithWeb3=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithWeb3",a)},this.authenticateWithGoogleOneTap=async s=>(await ot(this,ge,Te).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await ot(this,ge,Te).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.createOrganization(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("createOrganization",a)},this.getOrganization=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.getOrganization(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("getOrganization",a)},this.joinWaitlist=async s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("joinWaitlist",a)},this.signOut=async(...s)=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.signOut(...s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("signOut",a)},this.__internal_attemptToEnableEnvironmentSetting=s=>{const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.__internal_attemptToEnableEnvironmentSetting(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("__internal_attemptToEnableEnvironmentSetting",a)};const{Clerk:r=null,publishableKey:i}=n||{};ae(this,Q,i),ae(this,he,n==null?void 0:n.proxyUrl),ae(this,ue,n==null?void 0:n.domain),this.options=n,this.Clerk=r,this.mode=De()?"browser":"server",ae(this,Ae,new oi(this)),this.options.sdkMetadata||(this.options.sdkMetadata=ci),E(this,H).emit(Me.Status,"loading"),E(this,H).prioritizedOn(Me.Status,s=>ae(this,Re,s)),E(this,Q)&&this.loadClerkJS()}get publishableKey(){return E(this,Q)}get loaded(){var n;return((n=this.clerkjs)==null?void 0:n.loaded)||!1}get status(){var n;return this.clerkjs?((n=this.clerkjs)==null?void 0:n.status)||(this.clerkjs.loaded?"ready":"loading"):E(this,Re)}static getOrCreateInstance(n){return(!De()||!E(this,ee)||n.Clerk&&E(this,ee).Clerk!==n.Clerk||E(this,ee).publishableKey!==n.publishableKey)&&ae(this,ee,new Gn(n)),E(this,ee)}static clearInstance(){ae(this,ee,null)}get domain(){return typeof window<"u"&&window.location?st(E(this,ue),new URL(window.location.href),""):typeof E(this,ue)=="function"?$.throw(nt):E(this,ue)||""}get proxyUrl(){return typeof window<"u"&&window.location?st(E(this,he),new URL(window.location.href),""):typeof E(this,he)=="function"?$.throw(nt):E(this,he)||""}__internal_getOption(n){var r,i;return(r=this.clerkjs)!=null&&r.__internal_getOption?(i=this.clerkjs)==null?void 0:i.__internal_getOption(n):this.options[n]}get sdkMetadata(){var n;return((n=this.clerkjs)==null?void 0:n.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var n;return(n=this.clerkjs)==null?void 0:n.instanceType}get frontendApi(){var n;return((n=this.clerkjs)==null?void 0:n.frontendApi)||""}get isStandardBrowser(){var n;return((n=this.clerkjs)==null?void 0:n.isStandardBrowser)||this.options.standardBrowser||!1}get __internal_queryClient(){var n;return(n=this.clerkjs)==null?void 0:n.__internal_queryClient}get isSatellite(){return typeof window<"u"&&window.location?st(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?$.throw(nt):!1}async loadClerkJS(){var n;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=E(this,Q),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;ja(this.Clerk)?(r=new this.Clerk(E(this,Q),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Xa({...this.options,publishableKey:E(this,Q),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(n=global.Clerk)!=null&&n.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const i=r;E(this,H).emit(Me.Status,"error"),console.error(i.stack||i.message||i);return}}}get version(){var n;return(n=this.clerkjs)==null?void 0:n.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var n;return(n=this.clerkjs)==null?void 0:n.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:E(this,Ae)}get apiKeys(){var n;return(n=this.clerkjs)==null?void 0:n.apiKeys}__unstable__setEnvironment(...n){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(n);else return}};Re=new WeakMap;ue=new WeakMap;he=new WeakMap;Q=new WeakMap;H=new WeakMap;Ae=new WeakMap;ee=new WeakMap;ge=new WeakSet;Te=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};X(qn,ee);var tn=qn;function di(e){const{isomorphicClerkOptions:n,initialState:r,children:i}=e,{isomorphicClerk:s,clerkStatus:a}=ui(n),[l,c]=f.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});f.useEffect(()=>s.addListener(V=>c({...V})),[]);const o=ti(s.loaded,l,r),m=f.useMemo(()=>({value:s}),[a]),h=f.useMemo(()=>({value:l.client}),[l.client]),{sessionId:x,sessionStatus:u,sessionClaims:w,session:C,userId:j,user:p,orgId:y,actor:b,organization:d,orgRole:k,orgSlug:v,orgPermissions:N,factorVerificationAge:S}=o,_=f.useMemo(()=>({value:{sessionId:x,sessionStatus:u,sessionClaims:w,userId:j,actor:b,orgId:y,orgRole:k,orgSlug:v,orgPermissions:N,factorVerificationAge:S}}),[x,u,j,b,y,k,v,S,w==null?void 0:w.__raw]),M=f.useMemo(()=>({value:C}),[x,C]),Y=f.useMemo(()=>({value:p}),[j,p]),L=f.useMemo(()=>({value:{organization:d}}),[y,d]);return f.createElement(Gr.Provider,{value:m},f.createElement(Ar.Provider,{value:h},f.createElement(Tr.Provider,{value:M},f.createElement(Dr,{...L.value},f.createElement(Kr.Provider,{value:_},f.createElement(Rr.Provider,{value:Y},f.createElement(Lr,{value:void 0},i)))))))}var ui=e=>{const n=f.useRef(tn.getOrCreateInstance(e)),[r,i]=f.useState(n.current.status);return f.useEffect(()=>{n.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),f.useEffect(()=>{n.current.__unstable__updateProps({options:e})},[e.localization]),f.useEffect(()=>(n.current.on("status",i),()=>{n.current&&n.current.off("status",i),tn.clearInstance()}),[]),{isomorphicClerk:n.current,clerkStatus:r}};function hi(e){const{initialState:n,children:r,__internal_bypassMissingPublishableKey:i,...s}=e,{publishableKey:a="",Clerk:l}=s;return!l&&!i&&(a?a&&!ht(a)&&$.throwInvalidPublishableKeyError({key:a}):$.throwMissingPublishableKeyError()),f.createElement(di,{initialState:n,isomorphicClerkOptions:s},r)}var Jn=wa(hi,"ClerkProvider",Jr);Jn.displayName="ClerkProvider";Hr({packageName:"@clerk/clerk-react"});Ga("@clerk/clerk-react");/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function je(){return je=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},je.apply(this,arguments)}var re;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(re||(re={}));const nn="popstate";function mi(e){e===void 0&&(e={});function n(i,s){let{pathname:a,search:l,hash:c}=i.location;return yt("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:Xn(s)}return xi(n,r,null,e)}function I(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function _t(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function pi(){return Math.random().toString(36).substr(2,8)}function sn(e,n){return{usr:e.state,key:e.key,idx:n}}function yt(e,n,r,i){return r===void 0&&(r=null),je({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?pe(n):n,{state:r,key:n&&n.key||i||pi()})}function Xn(e){let{pathname:n="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function pe(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}function xi(e,n,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c=re.Pop,o=null,m=h();m==null&&(m=0,l.replaceState(je({},l.state,{idx:m}),""));function h(){return(l.state||{idx:null}).idx}function x(){c=re.Pop;let p=h(),y=p==null?null:p-m;m=p,o&&o({action:c,location:j.location,delta:y})}function u(p,y){c=re.Push;let b=yt(j.location,p,y);m=h()+1;let d=sn(b,m),k=j.createHref(b);try{l.pushState(d,"",k)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign(k)}a&&o&&o({action:c,location:j.location,delta:1})}function w(p,y){c=re.Replace;let b=yt(j.location,p,y);m=h();let d=sn(b,m),k=j.createHref(b);l.replaceState(d,"",k),a&&o&&o({action:c,location:j.location,delta:0})}function C(p){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof p=="string"?p:Xn(p);return b=b.replace(/ $/,"%20"),I(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let j={get action(){return c},get location(){return e(s,l)},listen(p){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(nn,x),o=p,()=>{s.removeEventListener(nn,x),o=null}},createHref(p){return n(s,p)},createURL:C,encodeLocation(p){let y=C(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:u,replace:w,go(p){return l.go(p)}};return j}var rn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rn||(rn={}));function fi(e,n,r){return r===void 0&&(r="/"),gi(e,n,r)}function gi(e,n,r,i){let s=typeof n=="string"?pe(n):n,a=es(s.pathname||"/",r);if(a==null)return null;let l=Qn(e);bi(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let m=Mi(a);c=Pi(l[o],m)}return c}function Qn(e,n,r,i){n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(a,l,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};o.relativePath.startsWith("/")&&(I(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(i.length));let m=oe([i,o.relativePath]),h=r.concat(o);a.children&&a.children.length>0&&(I(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Qn(a.children,n,h,m)),!(a.path==null&&!a.index)&&n.push({path:m,score:Ci(m,a.index),routesMeta:h})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let o of Zn(a.path))s(a,l,o)}),n}function Zn(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=Zn(i.join("/")),c=[];return c.push(...l.map(o=>o===""?a:[a,o].join("/"))),s&&c.push(...l),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function bi(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:Si(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const vi=/^:[\w-]+$/,ji=3,yi=2,wi=1,Ni=10,ki=-2,an=e=>e==="*";function Ci(e,n){let r=e.split("/"),i=r.length;return r.some(an)&&(i+=ki),n&&(i+=yi),r.filter(s=>!an(s)).reduce((s,a)=>s+(vi.test(a)?ji:a===""?wi:Ni),i)}function Si(e,n){return e.length===n.length&&e.slice(0,-1).every((i,s)=>i===n[s])?e[e.length-1]-n[n.length-1]:0}function Pi(e,n,r){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let o=i[c],m=c===i.length-1,h=a==="/"?n:n.slice(a.length)||"/",x=_i({path:o.relativePath,caseSensitive:o.caseSensitive,end:m},h),u=o.route;if(!x)return null;Object.assign(s,x.params),l.push({params:s,pathname:oe([a,x.pathname]),pathnameBase:Ti(oe([a,x.pathnameBase])),route:u}),x.pathnameBase!=="/"&&(a=oe([a,x.pathnameBase]))}return l}function _i(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Ei(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((m,h,x)=>{let{paramName:u,isOptional:w}=h;if(u==="*"){let j=c[x]||"";l=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const C=c[x];return w&&!C?m[u]=void 0:m[u]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function Ei(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),_t(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(i.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),i]}function Mi(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return _t(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function es(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}const Ii=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=e=>Ii.test(e);function Ri(e,n){n===void 0&&(n="/");let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?pe(e):e,a;if(r)if(Oi(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),_t(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?a=ln(r.substring(1),"/"):a=ln(r,n)}else a=n;return{pathname:a,search:Ui(i),hash:Li(s)}}function ln(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ct(e,n,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ai(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function ts(e,n){let r=Ai(e);return n?r.map((i,s)=>s===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function ns(e,n,r,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=pe(e):(s=je({},e),I(!s.pathname||!s.pathname.includes("?"),ct("?","pathname","search",s)),I(!s.pathname||!s.pathname.includes("#"),ct("#","pathname","hash",s)),I(!s.search||!s.search.includes("#"),ct("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=r;else{let x=n.length-1;if(!i&&l.startsWith("..")){let u=l.split("/");for(;u[0]==="..";)u.shift(),x-=1;s.pathname=u.join("/")}c=x>=0?n[x]:"/"}let o=Ri(s,c),m=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(m||h)&&(o.pathname+="/"),o}const oe=e=>e.join("/").replace(/\/\/+/g,"/"),Ti=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ui=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Li=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ss=["post","put","patch","delete"];new Set(ss);const Di=["get",...ss];new Set(Di);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ye.apply(this,arguments)}const Et=g.createContext(null),Bi=g.createContext(null),ke=g.createContext(null),Ge=g.createContext(null),de=g.createContext({outlet:null,matches:[],isDataRoute:!1}),rs=g.createContext(null);function Ce(){return g.useContext(Ge)!=null}function Mt(){return Ce()||I(!1),g.useContext(Ge).location}function as(e){g.useContext(ke).static||g.useLayoutEffect(e)}function Wi(){let{isDataRoute:e}=g.useContext(de);return e?el():zi()}function zi(){Ce()||I(!1);let e=g.useContext(Et),{basename:n,future:r,navigator:i}=g.useContext(ke),{matches:s}=g.useContext(de),{pathname:a}=Mt(),l=JSON.stringify(ts(s,r.v7_relativeSplatPath)),c=g.useRef(!1);return as(()=>{c.current=!0}),g.useCallback(function(m,h){if(h===void 0&&(h={}),!c.current)return;if(typeof m=="number"){i.go(m);return}let x=ns(m,JSON.parse(l),a,h.relative==="path");e==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:oe([n,x.pathname])),(h.replace?i.replace:i.push)(x,h.state,h)},[n,i,l,a,e])}function $i(e,n){return Yi(e,n)}function Yi(e,n,r,i){Ce()||I(!1);let{navigator:s}=g.useContext(ke),{matches:a}=g.useContext(de),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let o=l?l.pathnameBase:"/";l&&l.route;let m=Mt(),h;if(n){var x;let p=typeof n=="string"?pe(n):n;o==="/"||(x=p.pathname)!=null&&x.startsWith(o)||I(!1),h=p}else h=m;let u=h.pathname||"/",w=u;if(o!=="/"){let p=o.replace(/^\//,"").split("/");w="/"+u.replace(/^\//,"").split("/").slice(p.length).join("/")}let C=fi(e,{pathname:w}),j=Gi(C&&C.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:oe([o,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?o:oe([o,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,r,i);return n&&j?g.createElement(Ge.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:re.Pop}},j):j}function Vi(){let e=Zi(),n=Fi(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),r?g.createElement("pre",{style:s},r):null,null)}const Hi=g.createElement(Vi,null);class Ki extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?g.createElement(de.Provider,{value:this.props.routeContext},g.createElement(rs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qi(e){let{routeContext:n,match:r,children:i}=e,s=g.useContext(Et);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(de.Provider,{value:n},i)}function Gi(e,n,r,i){var s;if(n===void 0&&(n=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=i)!=null&&a.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let h=l.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);h>=0||I(!1),l=l.slice(0,Math.min(l.length,h+1))}let o=!1,m=-1;if(r&&i&&i.v7_partialHydration)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=h),x.route.id){let{loaderData:u,errors:w}=r,C=x.route.loader&&u[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||C){o=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((h,x,u)=>{let w,C=!1,j=null,p=null;r&&(w=c&&x.route.id?c[x.route.id]:void 0,j=x.route.errorElement||Hi,o&&(m<0&&u===0?(tl("route-fallback"),C=!0,p=null):m===u&&(C=!0,p=x.route.hydrateFallbackElement||null)));let y=n.concat(l.slice(0,u+1)),b=()=>{let d;return w?d=j:C?d=p:x.route.Component?d=g.createElement(x.route.Component,null):x.route.element?d=x.route.element:d=h,g.createElement(qi,{match:x,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:d})};return r&&(x.route.ErrorBoundary||x.route.errorElement||u===0)?g.createElement(Ki,{location:r.location,revalidation:r.revalidation,component:j,error:w,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var is=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(is||{}),ls=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ls||{});function Ji(e){let n=g.useContext(Et);return n||I(!1),n}function Xi(e){let n=g.useContext(Bi);return n||I(!1),n}function Qi(e){let n=g.useContext(de);return n||I(!1),n}function os(e){let n=Qi(),r=n.matches[n.matches.length-1];return r.route.id||I(!1),r.route.id}function Zi(){var e;let n=g.useContext(rs),r=Xi(),i=os();return n!==void 0?n:(e=r.errors)==null?void 0:e[i]}function el(){let{router:e}=Ji(is.UseNavigateStable),n=os(ls.UseNavigateStable),r=g.useRef(!1);return as(()=>{r.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ye({fromRouteId:n},a)))},[e,n])}const on={};function tl(e,n,r){on[e]||(on[e]=!0)}function nl(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cn(e){let{to:n,replace:r,state:i,relative:s}=e;Ce()||I(!1);let{future:a,static:l}=g.useContext(ke),{matches:c}=g.useContext(de),{pathname:o}=Mt(),m=Wi(),h=ns(n,ts(c,a.v7_relativeSplatPath),o,s==="path"),x=JSON.stringify(h);return g.useEffect(()=>m(JSON.parse(x),{replace:r,state:i,relative:s}),[m,x,s,r,i]),null}function Z(e){I(!1)}function sl(e){let{basename:n="/",children:r=null,location:i,navigationType:s=re.Pop,navigator:a,static:l=!1,future:c}=e;Ce()&&I(!1);let o=n.replace(/^\/*/,"/"),m=g.useMemo(()=>({basename:o,navigator:a,static:l,future:ye({v7_relativeSplatPath:!1},c)}),[o,c,a,l]);typeof i=="string"&&(i=pe(i));let{pathname:h="/",search:x="",hash:u="",state:w=null,key:C="default"}=i,j=g.useMemo(()=>{let p=es(h,o);return p==null?null:{location:{pathname:p,search:x,hash:u,state:w,key:C},navigationType:s}},[o,h,x,u,w,C,s]);return j==null?null:g.createElement(ke.Provider,{value:m},g.createElement(Ge.Provider,{children:r,value:j}))}function rl(e){let{children:n,location:r}=e;return $i(wt(n),r)}new Promise(()=>{});function wt(e,n){n===void 0&&(n=[]);let r=[];return g.Children.forEach(e,(i,s)=>{if(!g.isValidElement(i))return;let a=[...n,s];if(i.type===g.Fragment){r.push.apply(r,wt(i.props.children,a));return}i.type!==Z&&I(!1),!i.props.index||!i.props.children||I(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=wt(i.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const al="6";try{window.__reactRouterVersion=al}catch{}const il="startTransition",dn=xs[il];function ll(e){let{basename:n,children:r,future:i,window:s}=e,a=g.useRef();a.current==null&&(a.current=mi({window:s,v5Compat:!0}));let l=a.current,[c,o]=g.useState({action:l.action,location:l.location}),{v7_startTransition:m}=i||{},h=g.useCallback(x=>{m&&dn?dn(()=>o(x)):o(x)},[o,m]);return g.useLayoutEffect(()=>l.listen(h),[l,h]),g.useEffect(()=>nl(i),[i]),g.createElement(sl,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}var un;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(un||(un={}));var hn;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hn||(hn={}));const ol=Symbol.for("functionName");function cs(e=[]){const n={get(r,i){if(typeof i=="string"){const s=[...e,i];return cs(s)}else if(i===ol){if(e.length<2){const l=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${l}\``)}const s=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?s:s+":"+a}else return i===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},n)}const cl=cs(),R=cl;function dl({value:e,onChange:n}){const[r,i]=g.useState(e),s=g.useRef(null);g.useEffect(()=>{i(e)},[e]);const a=c=>{i(c),s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{n(c)},300)},l=()=>{i(""),n("")};return t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"search",value:r,onChange:c=>a(c.target.value),placeholder:"Search products, brands, strains...",className:"w-full bg-neutral-900 border border-neutral-700 rounded-xl px-4 py-3 pl-11 text-white placeholder-neutral-500 focus:outline-none focus:border-cannabis-500 focus:ring-1 focus:ring-cannabis-500 transition-colors","aria-label":"Search products, brands, and strains",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),t.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r&&t.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-neutral-700 text-neutral-400 hover:text-neutral-200 transition-colors","aria-label":"Clear search",type:"button",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function ul({options:e,filters:n,onChange:r,onClear:i}){return t.jsx("div",{className:"bg-neutral-900 border-t border-neutral-800 px-4 py-4",role:"region","aria-label":"Product filters",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[t.jsxs("fieldset",{children:[t.jsx("legend",{className:"text-xs text-neutral-500 mb-2 font-medium",children:"Category"}),t.jsxs("div",{className:"flex flex-wrap gap-2",role:"group","aria-label":"Filter by category",children:[t.jsx("button",{onClick:()=>r("category",null),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.category?"bg-neutral-800 text-neutral-400 hover:bg-neutral-700":"bg-cannabis-600 text-white"}`,"aria-pressed":!n.category,children:"All"}),e.categories.slice(0,8).map(s=>t.jsx("button",{onClick:()=>r("category",s),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.category===s?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,"aria-pressed":n.category===s,children:hl(s)},s))]})]}),t.jsxs("fieldset",{children:[t.jsx("legend",{className:"text-xs text-neutral-500 mb-2 font-medium",children:"Strain Type"}),t.jsxs("div",{className:"flex flex-wrap gap-2",role:"group","aria-label":"Filter by strain type",children:[t.jsx("button",{onClick:()=>r("strain",null),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.strain?"bg-neutral-800 text-neutral-400 hover:bg-neutral-700":"bg-cannabis-600 text-white"}`,"aria-pressed":!n.strain,children:"All"}),["Indica","Sativa","Hybrid"].map(s=>t.jsx("button",{onClick:()=>r("strain",s),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.strain===s?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,"aria-pressed":n.strain===s,children:s},s))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"dispensary-filter",className:"text-xs text-neutral-500 mb-2 font-medium block",children:"Dispensary"}),t.jsxs("select",{id:"dispensary-filter",value:n.retailerId||"",onChange:s=>r("retailerId",s.target.value||null),className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"",children:"All Dispensaries"}),e.retailers.map(s=>t.jsxs("option",{value:s.id,children:[s.name," (",s.city,")"]},s.id))]})]}),t.jsx("button",{onClick:i,className:"w-full py-2 text-sm text-neutral-400 hover:text-white transition-colors",children:"Clear all filters"})]})})}function hl(e){return e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function ml({inStock:e,stockLevel:n,lastInStockAt:r,size:i="md"}){const a=e?n==="low"?{emoji:"",text:"Low Stock",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}:{emoji:"",text:"In Stock",color:"bg-green-500/20 text-green-400 border-green-500/30"}:{emoji:"",text:"Sold Out",color:"bg-red-500/20 text-red-400 border-red-500/30"},l=i==="sm"?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1";return t.jsxs("div",{className:"flex flex-col items-end gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full border font-medium ${a.color} ${l}`,children:[t.jsx("span",{children:a.emoji}),t.jsx("span",{children:a.text})]}),!e&&r&&t.jsxs("span",{className:"text-xs text-neutral-500",children:["Last seen ",pl(r)]})]})}function pl(e){const r=Date.now()-e,i=Math.floor(r/6e4),s=Math.floor(i/60),a=Math.floor(s/24);return a>0?`${a}d ago`:s>0?`${s}h ago`:i>0?`${i}m ago`:"just now"}const mn=()=>{try{return localStorage.getItem("cannasignal_email")}catch{return null}},xl=e=>{try{localStorage.setItem("cannasignal_email",e)}catch{}};function fl({productId:e,productName:n,onUpgradeNeeded:r}){const[i,s]=g.useState(mn()||""),[a,l]=g.useState(!1),[c,o]=g.useState(!1),[m,h]=g.useState(null),[x,u]=g.useState(!1),[w,C]=g.useState(!1),j=mn(),p=B(R.alerts.checkWatchExists,j?{email:j,productId:e}:"skip"),y=B(R.alerts.getWatcherCount,{productId:e}),b=B(R.subscriptions.canAddWatch,j?{email:j}:"skip"),d=Ue(R.alerts.watchProduct),k=Ue(R.alerts.unwatchProduct);g.useEffect(()=>{l(!1),h(null),u(!1)},[e]);const v=async()=>{if(j&&!p){if(b&&!b.canAdd){C(!0);return}o(!0),h(null);try{await d({email:j,productId:e,alertTypes:["restock","price_drop"]}),u(!0),setTimeout(()=>u(!1),2e3)}catch(S){h(S.message||"Failed to watch product")}finally{o(!1)}return}if(j&&p){o(!0);try{await k({email:j,productId:e})}catch(S){h(S.message||"Failed to unwatch")}finally{o(!1)}return}l(!0)},N=async S=>{if(S.preventDefault(),!i.trim()){h("Please enter your email");return}o(!0),h(null);try{await d({email:i.trim(),productId:e,alertTypes:["restock","price_drop"]}),xl(i.trim()),l(!1),u(!0),setTimeout(()=>u(!1),2e3)}catch(_){h(_.message||"Failed to watch product")}finally{o(!1)}};return w?t.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-b from-amber-900/30 to-neutral-800/50 rounded-lg border border-amber-700/30",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-lg",children:""}),t.jsx("p",{className:"text-sm font-medium text-white",children:"Watch Limit Reached"})]}),t.jsxs("p",{className:"text-xs text-neutral-400 mb-3",children:["Free accounts can watch up to ",(b==null?void 0:b.limit)||3," products. Upgrade to Premium for unlimited watches!"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{C(!1),r==null||r()},className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cannabis-600 to-cannabis-500 text-white rounded-lg text-sm font-semibold hover:from-cannabis-500 hover:to-cannabis-400 transition-all",children:"Upgrade to Premium"}),t.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2.5 bg-neutral-800 text-neutral-300 rounded-lg text-sm hover:bg-neutral-700",children:"Maybe Later"})]}),t.jsxs("p",{className:"text-center text-xs text-neutral-500 mt-3",children:["Currently watching ",(b==null?void 0:b.currentCount)||0," / ",(b==null?void 0:b.limit)||3," products"]})]}):a?t.jsx("div",{className:"mt-4 p-4 bg-neutral-800 rounded-lg border border-neutral-700",children:t.jsxs("form",{onSubmit:N,children:[t.jsx("p",{className:"text-sm text-neutral-300 mb-3",children:"Enter your email to get notified when this product restocks or drops in price"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:i,onChange:S=>s(S.target.value),placeholder:"your@email.com",className:"flex-1 px-3 py-2 bg-neutral-900 border border-neutral-600 rounded-lg text-white text-sm focus:outline-none focus:border-cannabis-500",autoFocus:!0}),t.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-cannabis-600 text-white rounded-lg text-sm font-medium hover:bg-cannabis-500 disabled:opacity-50",children:c?"...":"Watch"})]}),m&&t.jsx("p",{className:"text-red-400 text-xs mt-2",children:m}),t.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-neutral-500 mt-2 hover:text-neutral-400",children:"Cancel"})]})}):t.jsxs("div",{className:"mt-4",children:[t.jsx("button",{onClick:v,disabled:c,className:`w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${p?"bg-cannabis-600/20 text-cannabis-400 border border-cannabis-600 hover:bg-cannabis-600/30":x?"bg-green-600 text-white":"bg-cannabis-600 text-white hover:bg-cannabis-500"} disabled:opacity-50`,children:c?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin",children:""}),t.jsx("span",{children:"Processing..."})]}):x?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"You're watching this!"})]}):p?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Watching  Tap to unwatch"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Watch for Restocks & Deals"})]})}),y!==void 0&&y>0&&t.jsxs("p",{className:"text-center text-xs text-neutral-500 mt-2",children:[y," ",y===1?"person is":"people are"," watching this"]}),m&&!a&&t.jsx("p",{className:"text-center text-xs text-red-400 mt-2",children:m})]})}function gl({productId:e,compact:n=!1}){const r=B(R.smartAnalytics.getProductInsights,{productId:e}),i=B(R.smartAnalytics.getPopularityScore,{productId:e});return!r||!i?t.jsxs("div",{className:"animate-pulse space-y-3",children:[t.jsx("div",{className:"h-12 bg-neutral-800 rounded-lg"}),t.jsx("div",{className:"h-20 bg-neutral-800 rounded-lg"})]}):r.insights.totalEvents===0?t.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[t.jsx("p",{className:"text-sm text-neutral-500 text-center",children:" Not enough data yet to show trends"}),t.jsx("p",{className:"text-xs text-neutral-600 text-center mt-1",children:"Check back as we track more inventory changes"})]}):n?t.jsx(bl,{insights:r,popularity:i}):t.jsxs("div",{className:"space-y-4",children:[t.jsx(jl,{popularity:i}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(yl,{insights:r}),t.jsx(wl,{insights:r})]}),r.recentEvents.length>0&&t.jsx(Nl,{events:r.recentEvents})]})}function bl({insights:e,popularity:n}){return t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(vl,{tier:n.tier,score:n.score}),e.insights.velocity&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-800 text-xs text-neutral-300",children:[t.jsx("span",{children:""}),t.jsx("span",{children:e.insights.velocity})]}),e.insights.restockPrediction&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-800 text-xs text-neutral-300",children:[t.jsx("span",{children:""}),t.jsx("span",{children:e.insights.restockPrediction})]})]})}function vl({tier:e,score:n}){const r={fire:{emoji:"",color:"bg-gradient-to-r from-red-600 to-orange-500",label:"Fire"},hot:{emoji:"",color:"bg-gradient-to-r from-amber-600 to-yellow-500",label:"Hot"},warm:{emoji:"",color:"bg-amber-700",label:"Trending"},normal:{emoji:"",color:"bg-neutral-700",label:"Normal"},cold:{emoji:"",color:"bg-blue-900",label:"Low demand"}},{emoji:i,color:s,label:a}=r[e]||r.normal;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full ${s} text-xs text-white font-medium`,children:[t.jsx("span",{children:i}),t.jsx("span",{children:a}),t.jsxs("span",{className:"opacity-75",children:["(",n,")"]})]})}function jl({popularity:e}){const n={fire:"from-red-600 via-orange-500 to-yellow-500",hot:"from-amber-500 to-yellow-400",warm:"from-amber-700 to-amber-600",normal:"from-neutral-600 to-neutral-500",cold:"from-blue-800 to-blue-700"},r={fire:"",hot:"",warm:"",normal:"",cold:""};return t.jsxs("div",{className:`rounded-xl p-4 bg-gradient-to-br ${n[e.tier]||n.normal}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-white/80 font-medium uppercase tracking-wide",children:"Popularity Score"}),t.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[t.jsx("span",{className:"text-3xl font-bold text-white",children:e.score}),t.jsx("span",{className:"text-lg text-white/80",children:"/100"}),t.jsx("span",{className:"text-2xl ml-2",children:r[e.tier]})]})]}),t.jsxs("div",{className:"text-right text-white/90",children:[t.jsx("p",{className:"text-sm font-medium capitalize",children:e.tier}),t.jsxs("p",{className:"text-xs text-white/70",children:[e.confidence," confidence"]})]})]}),t.jsxs("div",{className:"flex gap-4 mt-3 pt-3 border-t border-white/20 text-xs text-white/80",children:[t.jsxs("span",{children:[" ",e.metrics.locationsCarrying," locations"]}),t.jsxs("span",{children:[" ",e.metrics.restockCount," restocks"]}),t.jsxs("span",{children:[" ",e.metrics.soldOutCount," sold out"]})]})]})}function yl({insights:e}){const n=e.insights.avgHoursToSellout,r=e.insights.velocity;return t.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:" Sell-Out Speed"}),r?t.jsx("p",{className:"text-sm text-white font-medium",children:r}):t.jsx("p",{className:"text-sm text-neutral-500",children:"No data yet"}),n!==null&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"h-2 bg-neutral-800 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${n<4?"bg-red-500 w-full animate-pulse":n<12?"bg-orange-500 w-4/5":n<24?"bg-yellow-500 w-3/5":n<48?"bg-green-500 w-2/5":"bg-neutral-600 w-1/5"}`})}),t.jsxs("p",{className:"text-xs text-neutral-600 mt-1",children:["Avg: ",n<24?`${Math.round(n)}h`:`${Math.round(n/24)}d`]})]})]})}function wl({insights:e}){const n=e.insights.restockPrediction,r=e.insights.topRestockDays;return t.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:" Restock Pattern"}),n?t.jsx("p",{className:"text-sm text-white font-medium",children:n}):r.length>0?t.jsxs("p",{className:"text-sm text-neutral-400",children:["Often restocks ",r.join(", ")]}):t.jsx("p",{className:"text-sm text-neutral-500",children:"No pattern detected"}),r.length>0&&t.jsx("div",{className:"flex gap-1 mt-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(i=>t.jsx("div",{className:`flex-1 h-6 rounded text-xs flex items-center justify-center ${r.includes(i)?"bg-cannabis-600 text-white font-medium":"bg-neutral-800 text-neutral-600"}`,children:i.charAt(0)},i))})]})}function Nl({events:e}){const n={restock:{emoji:"",label:"Restocked",color:"text-green-400"},sold_out:{emoji:"",label:"Sold out",color:"text-red-400"},price_drop:{emoji:"",label:"Price drop",color:"text-green-400"},price_increase:{emoji:"",label:"Price up",color:"text-amber-400"},new_product:{emoji:"",label:"New drop",color:"text-blue-400"},removed:{emoji:"",label:"Removed",color:"text-neutral-500"}},r=i=>{const s=Date.now()-i,a=Math.floor(s/(1e3*60*60)),l=Math.floor(a/24);return l>0?`${l}d ago`:a>0?`${a}h ago`:"just now"};return t.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 border border-neutral-800",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-3",children:" Recent Activity"}),t.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((i,s)=>{const a=n[i.type]||{emoji:"",label:i.type,color:"text-neutral-400"};return t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:`flex items-center gap-2 ${a.color}`,children:[t.jsx("span",{children:a.emoji}),t.jsx("span",{children:a.label})]}),t.jsx("span",{className:"text-xs text-neutral-600",children:r(i.timestamp)})]},s)})})]})}function kl({productId:e,userLocation:n,onClose:r}){var x;const i=g.useRef(null),s=B(R.products.getById,{id:e}),a=B(R.inventory.getByProduct,{productId:e});g.useEffect(()=>{var w;const u=C=>{C.key==="Escape"&&r()};return document.addEventListener("keydown",u),(w=i.current)==null||w.focus(),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",u),document.body.style.overflow=""}},[r]);const l=u=>{u.target===u.currentTarget&&r()},c=(u,w)=>!n||!u||!w?null:Pl(n.lat,n.lng,u,w),o=[...a||[]].sort((u,w)=>{var p,y,b,d,k,v,N,S;if(u.inStock!==w.inStock)return u.inStock?-1:1;const C=c((y=(p=u.retailer)==null?void 0:p.address)==null?void 0:y.lat,(d=(b=u.retailer)==null?void 0:b.address)==null?void 0:d.lng),j=c((v=(k=w.retailer)==null?void 0:k.address)==null?void 0:v.lat,(S=(N=w.retailer)==null?void 0:N.address)==null?void 0:S.lng);return C!==null&&j!==null?C-j:0}),m=o.filter(u=>u.inStock).length,h=o.length>0?Math.min(...o.map(u=>u.currentPrice)):null;return t.jsxs("div",{ref:i,className:"fixed inset-0 z-50 bg-black/80 flex items-end sm:items-center justify-center",onClick:l,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":s?`${s.name} product details`:"Loading product details",children:[t.jsxs("div",{className:"w-full max-w-lg bg-neutral-900 rounded-t-2xl sm:rounded-2xl max-h-[85vh] overflow-hidden flex flex-col animate-slide-up",children:[t.jsxs("div",{className:"p-4 border-b border-neutral-800 flex items-start justify-between",children:[t.jsx("div",{className:"flex-1 min-w-0",children:s?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-cannabis-400 font-medium",children:(x=s.brand)==null?void 0:x.name}),t.jsx("h2",{className:"text-xl font-bold text-white truncate",children:s.name}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-800 text-neutral-400",children:Cl(s.category)}),s.strain&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-800 text-neutral-400",children:s.strain})]})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"skeleton h-4 w-24 rounded"}),t.jsx("div",{className:"skeleton h-6 w-48 rounded"})]})}),t.jsx("button",{onClick:r,className:"p-2 -mr-2 -mt-2 rounded-full hover:bg-neutral-800 text-neutral-400 hover:text-white transition-colors","aria-label":"Close product details",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&t.jsxs("div",{className:"px-4 py-3 bg-neutral-800/50 border-b border-neutral-800",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-cannabis-400",children:m}),t.jsx("p",{className:"text-xs text-neutral-500",children:"In Stock"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:o.length}),t.jsx("p",{className:"text-xs text-neutral-500",children:"Locations"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:h?`$${h.toFixed(0)}`:"-"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"Lowest Price"})]})]}),t.jsx(fl,{productId:e,productName:s==null?void 0:s.name})]}),t.jsxs("div",{className:"px-4 py-3 border-b border-neutral-800",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("span",{className:"text-lg",children:""}),t.jsx("h3",{className:"text-sm font-medium text-neutral-400",children:"Smart Insights"})]}),t.jsx(gl,{productId:e})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("h3",{className:"text-sm font-medium text-neutral-400 mb-3",children:["Available at ",o.length," locations"]}),a?o.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-neutral-500",children:"Not available at any tracked location"}),t.jsx("p",{className:"text-xs text-neutral-600 mt-2",children:"This product hasn't been seen in recent inventory scans"})]}):t.jsx("div",{className:"space-y-3",children:o.map(u=>{var C,j,p,y,b,d,k,v,N;const w=c((j=(C=u.retailer)==null?void 0:C.address)==null?void 0:j.lat,(y=(p=u.retailer)==null?void 0:p.address)==null?void 0:y.lng);return t.jsxs("div",{className:"bg-neutral-800/50 rounded-lg p-3 border border-neutral-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-white truncate",children:((b=u.retailer)==null?void 0:b.name)||"Unknown"}),t.jsxs("p",{className:"text-xs text-neutral-500 mt-0.5",children:[(k=(d=u.retailer)==null?void 0:d.address)==null?void 0:k.city,", ",(N=(v=u.retailer)==null?void 0:v.address)==null?void 0:N.state,w!==null&&t.jsxs("span",{children:["  ",w.toFixed(1)," mi away"]})]})]}),t.jsx(ml,{inStock:u.inStock,stockLevel:u.stockLevel,lastInStockAt:u.lastInStockAt,size:"sm"})]}),t.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-neutral-700/50",children:[t.jsxs("div",{className:"flex items-baseline gap-1.5",children:[t.jsxs("span",{className:"text-lg font-bold text-white",children:["$",u.currentPrice.toFixed(2)]}),u.previousPrice&&u.currentPrice<u.previousPrice&&t.jsxs("span",{className:"text-xs text-green-400",children:[" $",(u.previousPrice-u.currentPrice).toFixed(2)," off"]})]}),t.jsxs("span",{className:`text-xs ${pn(u.lastUpdatedAt)?"text-amber-500":"text-neutral-500"}`,children:[pn(u.lastUpdatedAt)&&" ","Updated ",Sl(u.lastUpdatedAt)]})]})]},u._id)})}):t.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>t.jsx("div",{className:"skeleton h-20 rounded-lg"},u))})]})})]}),t.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up {
          animation: slide-up 0.2s ease-out;
        }
      `})]})}function Cl(e){return e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function Sl(e){const r=Date.now()-e,i=Math.floor(r/6e4),s=Math.floor(i/60),a=Math.floor(s/24);return a>0?`${a}d ago`:s>0?`${s}h ago`:i>0?`${i}m ago`:"just now"}function pn(e){return(Date.now()-e)/36e5>24}function Pl(e,n,r,i){const a=Ie(r-e),l=Ie(i-n),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Ie(e))*Math.cos(Ie(r))*Math.sin(l/2)*Math.sin(l/2);return 3959*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function Ie(e){return e*(Math.PI/180)}const xn=()=>{try{return localStorage.getItem("cannasignal_email")}catch{return null}},_l=e=>{try{localStorage.setItem("cannasignal_email",e)}catch{}};function El({onClose:e,onProductClick:n}){const r=g.useRef(null),[i,s]=g.useState(xn()||""),[a,l]=g.useState(!!xn()),[c,o]=g.useState(!1),[m,h]=g.useState(null);g.useEffect(()=>{var d;const b=k=>{k.key==="Escape"&&e()};return document.addEventListener("keydown",b),(d=r.current)==null||d.focus(),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",b),document.body.style.overflow=""}},[e]);const x=B(R.alerts.getWatchesByEmail,a?{email:i}:"skip"),u=Ue(R.alerts.deleteWatch),w=Ue(R.alerts.toggleWatch),C=b=>{b.preventDefault(),h(null);const d=i.trim();if(!d){h("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)){h("Please enter a valid email address");return}_l(d),l(!0),o(!1)},j=async b=>{confirm("Remove this from your watchlist?")&&await u({watchId:b})},p=async b=>{await w({watchId:b})},y=b=>{b.target===b.currentTarget&&e()};return!a||c?t.jsx("div",{ref:r,className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:y,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":"Enter email for watchlist",children:t.jsxs("div",{className:"w-full max-w-md bg-neutral-900 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"My Watchlist"}),t.jsx("button",{onClick:e,className:"p-2 -mr-2 rounded-full hover:bg-neutral-800 text-neutral-400","aria-label":"Close",children:""})]}),t.jsxs("form",{onSubmit:C,children:[t.jsx("p",{className:"text-neutral-400 mb-4",children:"Enter your email to view and manage your watched products."}),t.jsx("input",{type:"email",value:i,onChange:b=>{s(b.target.value),h(null)},placeholder:"your@email.com",className:`w-full px-4 py-3 bg-neutral-800 border rounded-lg text-white focus:outline-none focus:border-cannabis-500 ${m?"border-red-500":"border-neutral-700"}`,autoFocus:!0,"aria-invalid":!!m,"aria-describedby":m?"email-error":void 0}),m&&t.jsx("p",{id:"email-error",className:"text-red-400 text-sm mt-2",children:m}),t.jsx("button",{type:"submit",className:"w-full mt-4 py-3 bg-cannabis-600 text-white rounded-lg font-medium hover:bg-cannabis-500",children:"View Watchlist"}),c&&t.jsx("button",{type:"button",onClick:()=>o(!1),className:"w-full mt-2 py-2 text-neutral-500 text-sm hover:text-neutral-400",children:"Cancel"})]})]})}):t.jsxs("div",{ref:r,className:"fixed inset-0 z-50 bg-black/80 flex items-end sm:items-center justify-center",onClick:y,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":"Your watchlist",children:[t.jsxs("div",{className:"w-full max-w-lg bg-neutral-900 rounded-t-2xl sm:rounded-2xl max-h-[85vh] overflow-hidden flex flex-col animate-slide-up",children:[t.jsxs("div",{className:"p-4 border-b border-neutral-800 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"My Watchlist"})]}),t.jsxs("button",{onClick:()=>o(!0),className:"text-xs text-neutral-500 hover:text-neutral-400",children:[i,"  Change"]})]}),t.jsx("button",{onClick:e,className:"p-2 -mr-2 rounded-full hover:bg-neutral-800 text-neutral-400",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:x?x.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-4xl mb-4",children:""}),t.jsx("p",{className:"text-neutral-400 mb-2",children:"No watched products yet"}),t.jsx("p",{className:"text-sm text-neutral-600",children:'Find a product and tap "Watch" to get alerted when it restocks'})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm text-neutral-500 mb-2",children:"You'll be notified when these products restock or drop in price"}),x.map(b=>{var d,k;return t.jsxs("div",{className:`bg-neutral-800/50 rounded-lg p-4 border transition-opacity ${b.isActive?"border-neutral-700/50":"border-neutral-800 opacity-50"}`,children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsxs("button",{onClick:()=>n(b.productId),className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:"text-xs text-cannabis-400 font-medium",children:((d=b.brand)==null?void 0:d.name)||"Unknown Brand"}),t.jsx("p",{className:"text-white font-medium truncate",children:((k=b.product)==null?void 0:k.name)||"Unknown Product"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.alertTypes.map(v=>t.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-700 text-neutral-400",children:v==="restock"?" Restock":v==="price_drop"?" Price Drop":v==="new_drop"?" New Drop":v},v))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>p(b._id),className:`p-2 rounded-lg transition-colors ${b.isActive?"text-cannabis-400 hover:bg-cannabis-600/20":"text-neutral-600 hover:bg-neutral-700"}`,title:b.isActive?"Pause alerts":"Resume alerts",children:b.isActive?"":""}),t.jsx("button",{onClick:()=>j(b._id),className:"p-2 rounded-lg text-neutral-500 hover:text-red-400 hover:bg-red-600/10",title:"Remove from watchlist",children:""})]})]}),b.lastNotifiedAt&&t.jsxs("p",{className:"text-xs text-neutral-600 mt-2",children:["Last alert: ",Ml(b.lastNotifiedAt)]})]},b._id)})]}):t.jsx("div",{className:"space-y-3",children:[1,2,3].map(b=>t.jsx("div",{className:"h-20 bg-neutral-800 rounded-lg animate-pulse"},b))})}),t.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-800/50",children:t.jsxs("p",{className:"text-xs text-neutral-500 text-center",children:["Alerts are sent to Discord when products restock or prices drop.",t.jsx("br",{}),"Email notifications coming soon!"]})})]}),t.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up {
          animation: slide-up 0.2s ease-out;
        }
      `})]})}function Ml(e){const r=Date.now()-e,i=Math.floor(r/6e4),s=Math.floor(i/60),a=Math.floor(s/24);return a>0?`${a}d ago`:s>0?`${s}h ago`:i>0?`${i}m ago`:"just now"}function Il({count:e=3}){return t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((n,r)=>t.jsx("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-16 h-16 rounded-lg skeleton flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"skeleton h-3 w-20 rounded"}),t.jsx("div",{className:"skeleton h-5 w-3/4 rounded"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("div",{className:"skeleton h-4 w-16 rounded"}),t.jsx("div",{className:"skeleton h-4 w-12 rounded"})]}),t.jsxs("div",{className:"flex justify-between pt-1",children:[t.jsx("div",{className:"skeleton h-6 w-16 rounded"}),t.jsx("div",{className:"skeleton h-4 w-24 rounded"})]})]})]})},r))})}function Ol({onProductClick:e,limit:n=10,hoursBack:r=24}){const i=B(R.smartAnalytics.getHotProducts,{limit:n,hoursBack:r});return i?i.length===0?t.jsxs("div",{className:"text-center py-8 bg-neutral-900 rounded-xl",children:[t.jsx("p",{className:"text-4xl mb-2",children:""}),t.jsx("p",{className:"text-neutral-400",children:"No trending data yet"}),t.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Check back as we gather more inventory data"})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Hot Right Now"})]}),t.jsxs("span",{className:"text-xs text-neutral-500",children:["Last ",r,"h"]})]}),t.jsx("div",{className:"space-y-2",children:i.map((s,a)=>t.jsx("button",{onClick:()=>e(s.productId),className:"w-full bg-neutral-900 border border-neutral-800 rounded-xl p-4 text-left hover:border-neutral-700 transition-all hover:scale-[1.01] active:scale-[0.99]",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold flex-shrink-0 ${a===0?"bg-gradient-to-br from-yellow-500 to-orange-500 text-white":a===1?"bg-gradient-to-br from-neutral-400 to-neutral-500 text-white":a===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-neutral-800 text-neutral-400"}`,children:a+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs text-cannabis-400 font-medium truncate",children:s.brandName}),t.jsx("h3",{className:"text-white font-medium truncate leading-tight",children:s.productName})]}),t.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:t.jsx(Rl,{score:s.hotScore,isNewDrop:s.isNewDrop})})]}),t.jsx("p",{className:"text-sm text-amber-400/80 mt-1",children:s.hotReason}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-neutral-500",children:[s.metrics.restocks>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[s.metrics.restocks," restocks"]})]}),s.metrics.soldOuts>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[s.metrics.soldOuts," sold out"]})]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[s.metrics.locationCount," locations"]})]}),s.metrics.avgPrice&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["~$",s.metrics.avgPrice]})]})]})]})]})},s.productId))})]}):t.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((s,a)=>t.jsx("div",{className:"bg-neutral-900 rounded-xl p-4 h-24"},a))})}function Rl({score:e,isNewDrop:n}){return n?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-green-600 to-emerald-600 text-white text-xs font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"New"})]}):e>=10?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-red-600 to-orange-500 text-white text-xs font-medium animate-pulse",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Fire"})]}):e>=6?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r from-amber-600 to-yellow-500 text-white text-xs font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Hot"})]}):t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-neutral-700 text-neutral-300 text-xs font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Trending"})]})}function Al(){const[e,n]=g.useState({query:"",category:null,strain:null,retailerId:null,inStockOnly:!1}),[r,i]=g.useState(null),[s,a]=g.useState(null),[l,c]=g.useState(!1),[o,m]=g.useState(!1),[h,x]=g.useState("trending");g.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(N=>{a({lat:N.coords.latitude,lng:N.coords.longitude})},()=>{a({lat:40.7128,lng:-74.006})})},[]);const u=B(R.retailers.list,{}),w=B(R.products.list,{category:e.category||void 0,limit:100}),C=B(R.products.search,{query:e.query||""}),j=e.query?C:w,p={categories:[...new Set((w==null?void 0:w.map(N=>N.category))||[])].sort(),strains:[...new Set((w==null?void 0:w.map(N=>N.strain).filter(Boolean))||[])].sort(),retailers:(u||[]).map(N=>({id:N._id,name:N.name,city:N.address.city,region:N.region}))},y=g.useCallback(N=>{n(S=>({...S,query:N}))},[]),b=g.useCallback((N,S)=>{n(_=>({..._,[N]:S}))},[]),d=g.useCallback(()=>{n({query:"",category:null,strain:null,retailerId:null,inStockOnly:!1})},[]),k=[e.category,e.strain,e.retailerId,e.inStockOnly].filter(Boolean).length,v=(j||[]).filter(N=>!(e.strain&&N.strain!==e.strain)).slice(0,50);return t.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[t.jsxs("header",{className:"sticky top-0 z-40 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:[t.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h1",{className:"text-xl font-bold text-cannabis-400 flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"CannaSignal"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>m(!0),className:"text-sm px-3 py-1.5 rounded-full bg-neutral-800 text-neutral-300 hover:bg-neutral-700 flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Alerts"})]}),t.jsx("span",{className:"text-xs text-neutral-500 flex items-center gap-1",children:s?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-cannabis-500"}),t.jsx("span",{children:" NYC"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),t.jsx("span",{children:"..."})]})})]})]}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsxs("button",{onClick:()=>x("trending"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${h==="trending"?"bg-gradient-to-r from-orange-600 to-amber-500 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Trending"})]}),t.jsxs("button",{onClick:()=>x("search"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${h==="search"?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Search"})]})]}),h==="search"&&t.jsx(t.Fragment,{children:t.jsx(dl,{value:e.query,onChange:y})}),h==="search"&&t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("button",{onClick:()=>c(!l),className:`text-sm px-3 py-1.5 rounded-full flex items-center gap-1 transition-colors ${k>0?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Filters"}),k>0&&t.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-white/20 flex items-center justify-center text-xs font-medium",children:k})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-400 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.inStockOnly,onChange:N=>b("inStockOnly",N.target.checked),className:"w-4 h-4 rounded border-neutral-600 bg-neutral-800 text-cannabis-500 focus:ring-cannabis-500 focus:ring-offset-0"}),t.jsx("span",{children:"In stock only"})]})]})]}),h==="search"&&l&&p.categories.length>0&&t.jsx(ul,{options:p,filters:e,onChange:b,onClear:d})]}),t.jsx("main",{className:"max-w-3xl mx-auto px-4 py-4",children:h==="trending"?t.jsx(Ol,{onProductClick:N=>i(N),limit:15,hoursBack:48}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("p",{className:"text-sm text-neutral-500",children:j?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-neutral-300 font-medium",children:v.length})," ","products found"]}):t.jsx("span",{className:"skeleton inline-block w-24 h-4 rounded"})}),v.length>0&&t.jsxs("p",{className:"text-xs text-neutral-600",children:["Sorted by ",s?"distance":"last updated"]})]}),j?v.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-4xl mb-4",children:""}),t.jsx("p",{className:"text-neutral-400 mb-2",children:"No products found"}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Try adjusting your search or filters"}),k>0&&t.jsx("button",{onClick:d,className:"mt-4 text-sm text-cannabis-400 hover:text-cannabis-300",children:"Clear all filters"})]}):t.jsx("div",{className:"space-y-3",children:v.map(N=>t.jsx(Tl,{product:N,onClick:()=>i(N._id)},N._id))}):t.jsx(Il,{count:6})]})}),r&&t.jsx(kl,{productId:r,userLocation:s,onClose:()=>i(null)}),o&&t.jsx(El,{onClose:()=>m(!1),onProductClick:N=>{m(!1),i(N)}}),t.jsx("footer",{className:"border-t border-neutral-800 mt-8 py-6",children:t.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[t.jsx("p",{className:"text-xs text-neutral-600",children:"Real-time inventory tracking for NYS licensed dispensaries"}),t.jsx("p",{className:"text-xs text-neutral-700 mt-1",children:"Data updates every 15 minutes  Not affiliated with any dispensary"})]})})]})}function Tl({product:e,onClick:n}){var r,i;return t.jsx("button",{onClick:n,className:"w-full bg-neutral-900 border border-neutral-800 rounded-xl p-4 text-left hover:border-neutral-700 transition-colors active:bg-neutral-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-16 h-16 rounded-lg bg-neutral-800 flex-shrink-0 overflow-hidden",children:e.imageUrl?t.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",loading:"lazy"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:Ll(e.category)})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs text-cannabis-400 font-medium truncate",children:((r=e.brand)==null?void 0:r.name)||"Unknown Brand"}),t.jsx("h3",{className:"text-white font-medium truncate leading-tight",children:e.name})]}),t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border text-xs px-2 py-0.5 font-medium bg-neutral-500/20 text-neutral-400 border-neutral-500/30",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Check"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[t.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:Ul(e.category)}),e.strain&&t.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:e.strain}),e.weight&&t.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:[e.weight.amount,e.weight.unit]}),((i=e.thcRange)==null?void 0:i.max)&&t.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-400",children:["THC ",e.thcRange.max,"%"]})]}),t.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Tap to see availability across locations"})]})]})})}function Ul(e){return e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function Ll(e){return{flower:"",pre_roll:"",preroll:"",vape:"",edible:"",concentrate:"",tincture:"",topical:""}[e.toLowerCase()]||""}const Fl=[1,2,3,5];function ds({anchor:e,competitors:n,radiusMiles:r,onRadiusChange:i,onAddCompetitor:s,onRemoveCompetitor:a,onAddAllInRadius:l,planLimit:c,currentCount:o,isLoading:m}){const[h,x]=g.useState(null),[u,w]=g.useState(""),C=g.useMemo(()=>{const d={};return n.forEach(k=>{d[k.region]=(d[k.region]||0)+1}),Object.entries(d).sort((k,v)=>v[1]-k[1])},[n]),j=g.useMemo(()=>n.filter(d=>{var k,v,N;if(h&&d.region!==h)return!1;if(u){const S=u.toLowerCase();return d.name.toLowerCase().includes(S)||((v=(k=d.address)==null?void 0:k.street)==null?void 0:v.toLowerCase().includes(S))||((N=d.address)==null?void 0:N.city.toLowerCase().includes(S))}return!0}),[n,h,u]),p=n.filter(d=>d.isMonitored).length,y=c-o,b=d=>{if(!d)return"Never";const k=Date.now()-d;return k<6e4?"Just now":k<36e5?`${Math.floor(k/6e4)}m ago`:k<864e5?`${Math.floor(k/36e5)}h ago`:`${Math.floor(k/864e5)}d ago`};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-cannabis-900/50 to-cannabis-800/30 border border-cannabis-700/50 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-cannabis-400 uppercase tracking-wide mb-1",children:"Your Location"}),t.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[" ",e.name]}),t.jsxs("p",{className:"text-sm text-neutral-400",children:[e.coordinates.lat.toFixed(4),", ",e.coordinates.lng.toFixed(4)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-neutral-500",children:"Monitoring"}),t.jsxs("p",{className:"text-2xl font-bold text-cannabis-400",children:[p," ",t.jsxs("span",{className:"text-sm text-neutral-500",children:["/ ",c]})]})]})]})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-400 mb-3",children:"Select competitor radius"}),t.jsx("div",{className:"flex gap-2",children:Fl.map(d=>t.jsxs("button",{onClick:()=>i(d),className:`flex-1 py-3 px-4 rounded-xl font-medium transition-all ${r===d?"bg-cannabis-600 text-white ring-2 ring-cannabis-400 ring-offset-2 ring-offset-neutral-900":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700 hover:text-white"}`,children:[t.jsx("div",{className:"text-lg",children:d}),t.jsxs("div",{className:"text-xs opacity-70",children:["mile",d!==1?"s":""]})]},d))})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"text-neutral-400",children:[t.jsx("span",{className:"text-cannabis-400 font-semibold",children:n.length})," dispensaries within ",t.jsxs("span",{className:"text-white font-medium",children:[r," mile",r!==1?"s":""]})]}),y>0&&n.filter(d=>!d.isMonitored).length>0&&t.jsxs("button",{onClick:l,className:"px-3 py-1.5 rounded-lg bg-cannabis-600 hover:bg-cannabis-500 text-white text-sm font-medium transition-colors",children:["+ Add all (",Math.min(y,n.filter(d=>!d.isMonitored).length),")"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{type:"text",placeholder:"Search dispensaries...",value:u,onChange:d=>w(d.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"}),t.jsxs("select",{value:h||"",onChange:d=>x(d.target.value||null),className:"px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white focus:outline-none focus:ring-2 focus:ring-cannabis-500",children:[t.jsx("option",{value:"",children:"All Regions"}),C.map(([d,k])=>t.jsxs("option",{value:d,children:[d.charAt(0).toUpperCase()+d.slice(1)," (",k,")"]},d))]})]}),t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:m?t.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-cannabis-500 border-t-transparent rounded-full mx-auto mb-3"}),t.jsx("p",{children:"Loading nearby competitors..."})]}):j.length===0?t.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[t.jsx("p",{className:"text-3xl mb-2",children:""}),t.jsx("p",{children:"No dispensaries found in this range"}),t.jsx("p",{className:"text-sm",children:"Try increasing the radius"})]}):j.map(d=>{var k,v;return t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-colors ${d.isMonitored?"bg-cannabis-900/30 border border-cannabis-700/50":"bg-neutral-900 border border-neutral-800 hover:border-neutral-700"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 text-center",children:t.jsx("div",{className:"text-lg font-bold text-cannabis-400",children:d.distanceFormatted})}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-white flex items-center gap-2",children:[d.name,d.isMonitored&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-cannabis-600/30 text-cannabis-400",children:"Monitoring"})]}),t.jsxs("p",{className:"text-sm text-neutral-500",children:[((k=d.address)==null?void 0:k.street)&&`${d.address.street}, `,(v=d.address)==null?void 0:v.city,t.jsx("span",{className:"mx-2",children:""}),t.jsx("span",{className:"capitalize",children:d.region})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right text-xs text-neutral-500 hidden md:block",children:[t.jsx("p",{children:"Updated"}),t.jsx("p",{children:b(d.lastUpdated)})]}),d.isMonitored?t.jsx("button",{onClick:()=>a(d.id),className:"p-2 rounded-lg bg-neutral-800 hover:bg-red-900/50 text-neutral-400 hover:text-red-400 transition-colors",title:"Stop monitoring",children:""}):y>0?t.jsx("button",{onClick:()=>s(d.id),className:"px-4 py-2 rounded-lg bg-cannabis-600 hover:bg-cannabis-500 text-white text-sm font-medium transition-colors",children:"+ Monitor"}):t.jsx("span",{className:"text-xs text-amber-400 px-3 py-2",children:"Plan limit reached"})]})]},d.id)})}),y<=3&&t.jsxs("div",{className:"p-4 rounded-xl bg-amber-900/20 border border-amber-700/50 text-amber-200 text-sm",children:[t.jsx("p",{className:"font-medium",children:" Running low on competitor slots"}),t.jsxs("p",{className:"text-amber-300/70 mt-1",children:["You have ",y," slot",y!==1?"s":""," remaining."," ",t.jsx("a",{href:"#upgrade",className:"underline hover:text-white",children:"Upgrade your plan"})," ","to monitor more competitors."]})]})]})}const xe=[{id:"starter",name:"Starter",price:499,description:"For single-location dispensaries getting started",competitorLimit:10,features:["Track up to 10 competitors","Real-time inventory alerts","Price change notifications","Stock-out opportunity alerts","Weekly market digest","1 team member"],highlight:!1},{id:"growth",name:"Growth",price:799,description:"For multi-location or aggressive growth-focused dispensaries",competitorLimit:25,features:["Track up to 25 competitors","Everything in Starter, plus:","Daily market digest","SMS notifications","Category-level analytics","Demand signals (consumer data)","Custom alert rules","API access","5 team members"],highlight:!0},{id:"enterprise",name:"Enterprise",price:null,description:"For MSOs and large retail operations",competitorLimit:1/0,features:["Unlimited competitor tracking","Everything in Growth, plus:","Multi-location dashboards","White-label reports","Historical data export","Custom integrations","Dedicated account manager","Unlimited team members"],highlight:!1}],Oe=[{slug:"conbud-les",name:"CONBUD LES",address:"88 E Houston St",city:"New York",region:"manhattan",lat:40.7246,lng:-73.9927},{slug:"conbud-bronx",name:"CONBUD Bronx",address:"",city:"Bronx",region:"bronx",lat:40.8448,lng:-73.8648},{slug:"gotham-bowery",name:"Gotham Bowery",address:"3 E 3rd St",city:"New York",region:"manhattan",lat:40.7255,lng:-73.992},{slug:"gotham-williamsburg",name:"Gotham Williamsburg",address:"300 Kent Ave",city:"Brooklyn",region:"brooklyn",lat:40.7186,lng:-73.9618},{slug:"gotham-chelsea",name:"Gotham Chelsea",address:"146 10th Ave",city:"New York",region:"manhattan",lat:40.7455,lng:-74.0063},{slug:"housing-works-cannabis",name:"Housing Works Cannabis",address:"750 Broadway",city:"New York",region:"manhattan",lat:40.7308,lng:-73.9917},{slug:"travel-agency-union-square",name:"Travel Agency Union Square",address:"835 Broadway",city:"New York",region:"manhattan",lat:40.734,lng:-73.9904},{slug:"dagmar-soho",name:"Dagmar Cannabis SoHo",address:"412 W Broadway",city:"New York",region:"manhattan",lat:40.7246,lng:-74.0002},{slug:"smacked-village",name:"Smacked Village",address:"144 Bleecker St",city:"New York",region:"manhattan",lat:40.7292,lng:-73.9995},{slug:"strain-stars-harlem",name:"Strain Stars Harlem",address:"2150 Frederick Douglass Blvd",city:"New York",region:"manhattan",lat:40.804,lng:-73.955},{slug:"the-cannabis-place",name:"The Cannabis Place",address:"123 W 14th St",city:"New York",region:"manhattan",lat:40.7383,lng:-73.9978},{slug:"medmen-5th-ave",name:"MedMen 5th Ave",address:"433 5th Ave",city:"New York",region:"manhattan",lat:40.7513,lng:-73.9817}];function Dl(e,n,r,i){const a=(r-e)*Math.PI/180,l=(i-n)*Math.PI/180,c=Math.sin(a/2)**2+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(l/2)**2;return 3959*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function Bl(e){return e<.1?"< 0.1 mi":`${e.toFixed(1)} mi`}function Wl({onComplete:e,onBack:n}){var b;const[r,i]=g.useState(1),[s,a]=g.useState(!1),[l,c]=g.useState(null),[o,m]=g.useState({dispensaryName:"",contactEmail:"",selectedRetailerId:null,isNewStore:!1,newStoreData:{name:"",address:"",city:"",state:"NY",zip:""},competitorIds:[],radiusMiles:2,selectedPlan:"growth",billingCycle:"monthly"}),h=g.useMemo(()=>{if(o.isNewStore)return{name:o.newStoreData.name||o.dispensaryName,coordinates:{lat:40.7128,lng:-74.006},address:o.newStoreData.address,city:o.newStoreData.city};const d=Oe.find(k=>k.slug===o.selectedRetailerId);return d?{name:d.name,coordinates:{lat:d.lat,lng:d.lng},address:d.address,city:d.city}:null},[o.selectedRetailerId,o.isNewStore,o.newStoreData,o.dispensaryName]),x=g.useMemo(()=>h?Oe.filter(d=>d.slug!==o.selectedRetailerId).map(d=>{const k=Dl(h.coordinates.lat,h.coordinates.lng,d.lat,d.lng);return{id:d.slug,name:d.name,slug:d.slug,address:{street:d.address,city:d.city,state:"NY"},region:d.region,coordinates:{lat:d.lat,lng:d.lng},distanceMiles:k,distanceFormatted:Bl(k),isMonitored:o.competitorIds.includes(d.slug),lastUpdated:Date.now()-Math.random()*36e5}}).filter(d=>d.distanceMiles<=o.radiusMiles).sort((d,k)=>d.distanceMiles-k.distanceMiles):[],[h,o.selectedRetailerId,o.radiusMiles,o.competitorIds]),u=(d,k)=>{m(v=>({...v,[d]:k})),c(null)},w=()=>{switch(r){case 1:return o.dispensaryName.trim()?!o.contactEmail.trim()||!o.contactEmail.includes("@")?(c("Please enter a valid email address"),!1):!0:(c("Please enter your dispensary name"),!1);case 2:return!o.isNewStore&&!o.selectedRetailerId?(c("Please select your store or add a new one"),!1):o.isNewStore&&!o.newStoreData.name.trim()?(c("Please enter your store name"),!1):!0;case 3:return!0;case 4:return o.selectedPlan?!0:(c("Please select a plan"),!1);default:return!0}},C=()=>{w()&&i(d=>Math.min(d+1,5))},j=()=>{i(d=>Math.max(d-1,1))},p=async()=>{a(!0),c(null);try{await new Promise(k=>setTimeout(k,1500)),e("demo-account")}catch(d){c(d instanceof Error?d.message:"Something went wrong"),a(!1)}},y=()=>{const d=xe.find(k=>k.id===o.selectedPlan);return(d==null?void 0:d.competitorLimit)??10};return t.jsxs("div",{className:"min-h-screen bg-neutral-950 text-white",children:[t.jsx("header",{className:"border-b border-neutral-800",children:t.jsx("div",{className:"max-w-3xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-xl font-bold text-cannabis-400",children:"CannaSignal"}),t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-600/20 text-amber-400 font-medium",children:"for Business"})]}),n&&t.jsx("button",{onClick:n,className:"text-sm text-neutral-400 hover:text-white",children:" Back to home"})]})})}),t.jsx("div",{className:"border-b border-neutral-800",children:t.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4,5].map(d=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${d===r?"bg-cannabis-600 text-white":d<r?"bg-cannabis-600/30 text-cannabis-400":"bg-neutral-800 text-neutral-500"}`,children:d<r?"":d}),d<5&&t.jsx("div",{className:`w-12 md:w-20 h-1 mx-2 rounded ${d<r?"bg-cannabis-600/50":"bg-neutral-800"}`})]},d))}),t.jsxs("div",{className:"flex justify-between text-xs text-neutral-500",children:[t.jsx("span",{className:r===1?"text-cannabis-400":"",children:"Sign Up"}),t.jsx("span",{className:r===2?"text-cannabis-400":"",children:"Your Store"}),t.jsx("span",{className:r===3?"text-cannabis-400":"",children:"Competitors"}),t.jsx("span",{className:r===4?"text-cannabis-400":"",children:"Plan"}),t.jsx("span",{className:r===5?"text-cannabis-400":"",children:"Confirm"})]})]})}),t.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8",children:[l&&t.jsx("div",{className:"mb-6 p-4 rounded-xl bg-red-900/20 border border-red-700/50 text-red-400",children:t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx("span",{children:""}),l]})}),r===1&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Welcome to CannaSignal for Business"}),t.jsx("p",{className:"text-lg text-neutral-400 max-w-xl mx-auto",children:"Get competitive intelligence that helps you stock smarter, price better, and capture more sales."})]}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Dispensary Name"}),t.jsx("input",{type:"text",value:o.dispensaryName,onChange:d=>u("dispensaryName",d.target.value),placeholder:"e.g., Green Leaf Cannabis",className:"w-full px-4 py-3 rounded-xl bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Contact Email"}),t.jsx("input",{type:"email",value:o.contactEmail,onChange:d=>u("contactEmail",d.target.value),placeholder:"you@dispensary.com",className:"w-full px-4 py-3 rounded-xl bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"We'll use this to send alerts and account notifications"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-cannabis-900/30 to-cannabis-800/20 border border-cannabis-700/30 rounded-xl p-6",children:[t.jsx("h3",{className:"font-semibold text-cannabis-400 mb-3",children:"What you'll get with CannaSignal:"}),t.jsxs("ul",{className:"grid md:grid-cols-2 gap-3 text-sm text-neutral-300",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-cannabis-400",children:""}),"Real-time competitor inventory tracking"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-cannabis-400",children:""}),"Price intelligence & alerts"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-cannabis-400",children:""}),"Stock-out opportunity detection"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-cannabis-400",children:""}),"Market trends & demand signals"]})]})]})]}),r===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select Your Store"}),t.jsx("p",{className:"text-neutral-400",children:"Choose your dispensary from our database or add a new location"})]}),o.isNewStore?t.jsxs("div",{className:"space-y-6",children:[t.jsx("button",{onClick:()=>u("isNewStore",!1),className:"text-sm text-cannabis-400 hover:text-cannabis-300",children:" Back to store list"}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 space-y-4",children:[t.jsx("h3",{className:"font-semibold text-white",children:"Add Your Store"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"Store Name"}),t.jsx("input",{type:"text",value:o.newStoreData.name,onChange:d=>u("newStoreData",{...o.newStoreData,name:d.target.value}),placeholder:"e.g., Green Leaf Cannabis",className:"w-full px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"Street Address"}),t.jsx("input",{type:"text",value:o.newStoreData.address,onChange:d=>u("newStoreData",{...o.newStoreData,address:d.target.value}),placeholder:"123 Main St",className:"w-full px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"City"}),t.jsx("input",{type:"text",value:o.newStoreData.city,onChange:d=>u("newStoreData",{...o.newStoreData,city:d.target.value}),placeholder:"New York",className:"w-full px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"ZIP"}),t.jsx("input",{type:"text",value:o.newStoreData.zip,onChange:d=>u("newStoreData",{...o.newStoreData,zip:d.target.value}),placeholder:"10001",className:"w-full px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"})]})]})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search NYC dispensaries...",className:"w-full px-4 py-3 pl-10 rounded-xl bg-neutral-800 border border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-cannabis-500"}),t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500",children:""})]}),t.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:Oe.map(d=>t.jsx("button",{onClick:()=>u("selectedRetailerId",d.slug),className:`w-full p-4 rounded-xl text-left transition-colors ${o.selectedRetailerId===d.slug?"bg-cannabis-900/50 border-2 border-cannabis-500":"bg-neutral-900 border border-neutral-800 hover:border-neutral-700"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-white",children:d.name}),t.jsxs("p",{className:"text-sm text-neutral-400",children:[d.address&&`${d.address}, `,d.city,t.jsx("span",{className:"mx-2",children:""}),t.jsx("span",{className:"capitalize",children:d.region})]})]}),o.selectedRetailerId===d.slug&&t.jsx("span",{className:"text-cannabis-400 text-xl",children:""})]})},d.slug))}),t.jsxs("button",{onClick:()=>u("isNewStore",!0),className:"w-full p-4 rounded-xl border-2 border-dashed border-neutral-700 hover:border-cannabis-600 text-neutral-400 hover:text-cannabis-400 transition-colors",children:[t.jsx("span",{className:"text-xl mr-2",children:"+"}),"My store isn't listed  Add new store"]})]}),h&&t.jsx("div",{className:"p-4 rounded-xl bg-cannabis-900/20 border border-cannabis-700/30",children:t.jsxs("p",{className:"text-sm text-cannabis-400 flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:h.name})," selected",h.address&&`  ${h.address}, ${h.city}`]})]})})]}),r===3&&h&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select Competitors to Monitor"}),t.jsx("p",{className:"text-neutral-400",children:"Choose which nearby dispensaries you want to track. You can always add or remove competitors later."})]}),t.jsx(ds,{anchor:{name:h.name,coordinates:h.coordinates},competitors:x,radiusMiles:o.radiusMiles,onRadiusChange:d=>u("radiusMiles",d),onAddCompetitor:d=>u("competitorIds",[...o.competitorIds,d]),onRemoveCompetitor:d=>u("competitorIds",o.competitorIds.filter(k=>k!==d)),onAddAllInRadius:()=>{const d=x.filter(k=>!k.isMonitored).slice(0,y()-o.competitorIds.length).map(k=>k.id);u("competitorIds",[...o.competitorIds,...d])},planLimit:y(),currentCount:o.competitorIds.length,isLoading:!1}),o.competitorIds.length===0&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-900/20 border border-amber-700/30 text-amber-400 text-sm",children:t.jsxs("p",{children:[t.jsx("strong",{children:" Tip:"})," Select at least a few competitors to get the most value from CannaSignal. You can skip this step and add them later if you prefer."]})})]}),r===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Choose Your Plan"}),t.jsx("p",{className:"text-neutral-400",children:"All plans include a 14-day free trial. No credit card required."})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"inline-flex items-center gap-4 p-1 rounded-full bg-neutral-800",children:[t.jsx("button",{onClick:()=>u("billingCycle","monthly"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o.billingCycle==="monthly"?"bg-cannabis-600 text-white":"text-neutral-400 hover:text-white"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>u("billingCycle","annual"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${o.billingCycle==="annual"?"bg-cannabis-600 text-white":"text-neutral-400 hover:text-white"}`,children:["Annual",t.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-green-500/20 text-green-400",children:"Save 17%"})]})]})}),t.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:xe.map(d=>t.jsxs("button",{onClick:()=>u("selectedPlan",d.id),className:`relative p-6 rounded-2xl text-left transition-all ${o.selectedPlan===d.id?"bg-cannabis-900/30 border-2 border-cannabis-500 ring-2 ring-cannabis-500/20":d.highlight?"bg-cannabis-900/20 border-2 border-cannabis-600/50 hover:border-cannabis-500":"bg-neutral-900 border-2 border-neutral-800 hover:border-neutral-700"}`,children:[d.highlight&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:t.jsx("span",{className:"px-3 py-1 rounded-full bg-cannabis-600 text-white text-xs font-semibold",children:"Most Popular"})}),t.jsxs("div",{className:"mb-4 mt-2",children:[t.jsx("h3",{className:"text-lg font-bold text-white",children:d.name}),d.price?t.jsxs("div",{className:"mt-1",children:[t.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",o.billingCycle==="annual"?Math.round(d.price*10):d.price]}),t.jsxs("span",{className:"text-neutral-500",children:["/",o.billingCycle==="annual"?"year":"month"]})]}):t.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:"Custom"}),t.jsx("p",{className:"text-sm text-neutral-400 mt-2",children:d.description})]}),t.jsxs("ul",{className:"space-y-2",children:[d.features.slice(0,5).map((k,v)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm text-neutral-300",children:[t.jsx("span",{className:"text-cannabis-400 mt-0.5",children:""}),k]},v)),d.features.length>5&&t.jsxs("li",{className:"text-xs text-neutral-500",children:["+",d.features.length-5," more features"]})]}),o.selectedPlan===d.id&&t.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 rounded-full bg-cannabis-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm",children:""})})]},d.id))}),o.competitorIds.length>y()&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-900/20 border border-amber-700/30 text-amber-400 text-sm",children:t.jsxs("p",{children:[t.jsx("strong",{children:" Note:"})," You selected ",o.competitorIds.length," competitors, but the"," ",o.selectedPlan," plan only includes ",y(),". Upgrade your plan or remove some competitors."]})})]}),r===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"You're All Set!"}),t.jsx("p",{className:"text-neutral-400",children:"Review your selections and start your free trial"})]}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm text-neutral-500 uppercase tracking-wide mb-3",children:"Account"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-neutral-400",children:"Dispensary"}),t.jsx("span",{className:"text-white font-medium",children:o.dispensaryName})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-neutral-400",children:"Email"}),t.jsx("span",{className:"text-white",children:o.contactEmail})]})]})]}),t.jsx("div",{className:"border-t border-neutral-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm text-neutral-500 uppercase tracking-wide mb-3",children:"Your Store"}),t.jsx("p",{className:"text-white font-medium",children:h==null?void 0:h.name}),(h==null?void 0:h.address)&&t.jsxs("p",{className:"text-neutral-400 text-sm",children:[h.address,", ",h.city]})]}),t.jsx("div",{className:"border-t border-neutral-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm text-neutral-500 uppercase tracking-wide mb-3",children:"Competitors to Monitor"}),o.competitorIds.length>0?t.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.competitorIds.slice(0,5).map(d=>{const k=Oe.find(v=>v.slug===d);return k?t.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 text-sm text-white",children:k.name},d):null}),o.competitorIds.length>5&&t.jsxs("span",{className:"px-3 py-1 rounded-full bg-neutral-800 text-sm text-neutral-400",children:["+",o.competitorIds.length-5," more"]})]}):t.jsx("p",{className:"text-neutral-400 text-sm",children:"No competitors selected  you can add them later"})]}),t.jsx("div",{className:"border-t border-neutral-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm text-neutral-500 uppercase tracking-wide mb-3",children:"Plan"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium capitalize",children:o.selectedPlan}),t.jsx("p",{className:"text-neutral-400 text-sm",children:o.billingCycle==="annual"?"Annual billing":"Monthly billing"})]}),t.jsx("div",{className:"text-right",children:(b=xe.find(d=>d.id===o.selectedPlan))!=null&&b.price?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-2xl font-bold text-cannabis-400",children:["$",o.billingCycle==="annual"?Math.round(xe.find(d=>d.id===o.selectedPlan).price*10):xe.find(d=>d.id===o.selectedPlan).price]}),t.jsxs("p",{className:"text-xs text-neutral-500",children:["/",o.billingCycle==="annual"?"year":"month"," after trial"]})]}):t.jsx("p",{className:"text-xl font-bold text-cannabis-400",children:"Custom pricing"})})]})]})]}),t.jsx("div",{className:"p-4 rounded-xl bg-cannabis-900/20 border border-cannabis-700/30",children:t.jsxs("p",{className:"text-cannabis-400 text-sm text-center",children:[t.jsx("strong",{children:" 14-day free trial"}),"  No credit card required to start"]})})]}),t.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-neutral-800",children:[t.jsx("button",{onClick:r===1?n:j,disabled:r===1&&!n,className:`px-6 py-3 rounded-xl font-medium transition-colors ${r===1&&!n?"bg-neutral-800 text-neutral-600 cursor-not-allowed":"bg-neutral-800 text-white hover:bg-neutral-700"}`,children:r===1?"Cancel":" Back"}),r<5?t.jsx("button",{onClick:C,className:"px-8 py-3 rounded-xl bg-cannabis-600 hover:bg-cannabis-500 text-white font-semibold transition-colors",children:"Continue "}):t.jsx("button",{onClick:p,disabled:s,className:`px-8 py-3 rounded-xl font-semibold transition-colors ${s?"bg-neutral-700 text-neutral-400 cursor-not-allowed":"bg-cannabis-600 hover:bg-cannabis-500 text-white"}`,children:s?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"animate-spin",children:""}),"Creating account..."]}):"Start Free Trial "})]})]})]})}const zl=[{id:"starter",name:"Starter",price:499,period:"month",description:"For single-location dispensaries getting started with competitive intelligence",highlight:null,features:[{text:"Track up to 10 competitors",included:!0},{text:"Real-time inventory alerts",included:!0},{text:"Price change notifications",included:!0},{text:"Stock-out opportunity alerts",included:!0},{text:"Weekly market digest email",included:!0},{text:"Email & Slack notifications",included:!0},{text:"1 team member",included:!0},{text:"Basic analytics dashboard",included:!0},{text:"Category-level insights",included:!1},{text:"Demand signals (consumer data)",included:!1},{text:"Custom alert rules",included:!1},{text:"API access",included:!1}]},{id:"growth",name:"Growth",price:799,period:"month",description:"For multi-location or aggressive growth-focused dispensaries",highlight:"Most Popular",features:[{text:"Track up to 25 competitors",included:!0},{text:"Real-time inventory alerts",included:!0},{text:"Price change notifications",included:!0},{text:"Stock-out opportunity alerts",included:!0},{text:"Daily market digest email",included:!0},{text:"Email, Slack & SMS notifications",included:!0},{text:"5 team members",included:!0},{text:"Advanced analytics dashboard",included:!0},{text:"Category-level price analytics",included:!0},{text:"Demand signals (consumer interest data)",included:!0},{text:"Custom alert rules",included:!0},{text:"API access for POS integration",included:!0},{text:"Priority support",included:!0}]},{id:"enterprise",name:"Enterprise",price:null,period:null,description:"For MSOs and large retail operations with advanced needs",highlight:null,features:[{text:"Unlimited competitor tracking",included:!0},{text:"Everything in Growth, plus:",included:!0,isHeader:!0},{text:"Multi-location dashboards",included:!0},{text:"White-label reports",included:!0},{text:"Historical data export (CSV/API)",included:!0},{text:"Custom integrations",included:!0},{text:"Dedicated account manager",included:!0},{text:"Unlimited team members",included:!0},{text:"SLA guarantee (99.9% uptime)",included:!0},{text:"Quarterly business reviews",included:!0},{text:"Early access to new features",included:!0}]}],$l=[{q:"How does CannaSignal get competitor data?",a:"We monitor publicly available menu data from dispensary websites and platforms like Dutchie. Our automated systems check inventory every 15 minutes for freshness."},{q:"What counts as a 'competitor' in my plan limit?",a:"Each dispensary location counts as one competitor. If a chain has 3 locations, that's 3 competitors. You can add or remove competitors anytime."},{q:"Can I integrate with my POS system?",a:"Growth and Enterprise plans include API access. We have pre-built integrations for Treez, Dutchie POS, and Flowhub, or you can use our REST API for custom integrations."},{q:"Is there a contract or can I cancel anytime?",a:"All plans are month-to-month with no long-term contract. Cancel anytime and keep access until the end of your billing period. Enterprise plans may have custom terms."},{q:"What regions do you cover?",a:"We currently cover all licensed dispensaries in New York State. We're expanding to New Jersey and other markets soonEnterprise customers get priority access to new markets."},{q:"How are 'demand signals' different from inventory data?",a:"Demand signals come from our consumer-facing product tracker. When consumers watch a product for restocks, that interest data becomes a demand signal for your storehelping you stock what people actually want."}],Yl=[{scenario:"Competitor Price Match",description:"Catch a competitor's 15% price drop same-day instead of losing a week of sales",savings:"$2,500+",frequency:"/month"},{scenario:"Stock-Out Capture",description:"Run targeted promos when 3+ competitors run out of popular products",savings:"$5,000+",frequency:"/month"},{scenario:"New Product Timing",description:"Stock trending products 2 weeks before competitors notice the demand",savings:"$3,000+",frequency:"/quarter"}];function Vl({onSelectPlan:e,onBack:n,currentPlan:r}){const[i,s]=g.useState("monthly"),[a,l]=g.useState(null),c=o=>Math.round(o*10);return t.jsxs("div",{className:"min-h-screen bg-neutral-950 text-white",children:[t.jsx("header",{className:"border-b border-neutral-800",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Back"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-xl font-bold text-cannabis-400",children:"CannaSignal"}),t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-600/20 text-amber-400 font-medium",children:"for Business"})]}),t.jsx("div",{className:"w-20"})," "]})})}),t.jsx("section",{className:"py-16 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Competitive Intelligence for",t.jsx("br",{}),t.jsx("span",{className:"text-cannabis-400",children:"Winning Dispensaries"})]}),t.jsxs("p",{className:"text-xl text-neutral-400 mb-8",children:["Real-time inventory tracking, price intelligence, and market insights.",t.jsx("br",{}),"Start your 14-day free trial today."]}),t.jsxs("div",{className:"inline-flex items-center gap-4 p-1 rounded-full bg-neutral-800 mb-12",children:[t.jsx("button",{onClick:()=>s("monthly"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${i==="monthly"?"bg-cannabis-600 text-white":"text-neutral-400 hover:text-white"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>s("annual"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${i==="annual"?"bg-cannabis-600 text-white":"text-neutral-400 hover:text-white"}`,children:["Annual",t.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-green-500/20 text-green-400",children:"Save 17%"})]})]})]})}),t.jsx("section",{className:"pb-20 px-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:zl.map(o=>t.jsxs("div",{className:`relative rounded-2xl p-6 border-2 transition-colors ${o.highlight?"bg-cannabis-900/20 border-cannabis-600":r===o.id?"bg-neutral-800/50 border-cannabis-500":"bg-neutral-900 border-neutral-800 hover:border-neutral-700"}`,children:[o.highlight&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:t.jsx("span",{className:"px-3 py-1 rounded-full bg-cannabis-600 text-white text-xs font-semibold",children:o.highlight})}),t.jsxs("div",{className:"mb-6 mt-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:o.name}),t.jsx("div",{className:"mt-2",children:o.price?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-4xl font-bold text-white",children:["$",i==="annual"?c(o.price):o.price]}),t.jsxs("span",{className:"text-neutral-500",children:["/",i==="annual"?"year":"month"]}),i==="annual"&&t.jsxs("p",{className:"text-sm text-green-400 mt-1",children:["$",o.price,"/mo billed annually (2 months free)"]})]}):t.jsx("span",{className:"text-3xl font-bold text-white",children:"Custom"})}),t.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:o.description})]}),t.jsx("ul",{className:"space-y-3 mb-8",children:o.features.map((m,h)=>t.jsxs("li",{className:`flex items-start gap-2 text-sm ${m.isHeader?"font-medium text-cannabis-400 mt-4":""}`,children:[!m.isHeader&&(m.included?t.jsx("span",{className:"text-cannabis-400 mt-0.5",children:""}):t.jsx("span",{className:"text-neutral-600 mt-0.5",children:""})),t.jsx("span",{className:m.included||m.isHeader?"text-neutral-300":"text-neutral-600",children:m.text})]},h))}),t.jsx("button",{onClick:()=>e(o.id),disabled:r===o.id,className:`w-full py-3 rounded-xl font-medium transition-colors ${r===o.id?"bg-neutral-700 text-neutral-400 cursor-not-allowed":o.highlight?"bg-cannabis-600 text-white hover:bg-cannabis-500":o.price?"bg-neutral-800 text-white hover:bg-neutral-700":"bg-amber-600 text-white hover:bg-amber-500"}`,children:r===o.id?"Current Plan":o.price?"Start Free Trial":"Contact Sales"})]},o.id))}),t.jsx("p",{className:"text-center text-neutral-500 text-sm mt-8",children:"All plans include: Unlimited alert notifications  15-minute data refresh  24/7 monitoring"})]})}),t.jsx("section",{className:"py-20 px-4 bg-neutral-900/50",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"The ROI Speaks for Itself"}),t.jsx("p",{className:"text-neutral-400 text-center max-w-2xl mx-auto mb-12",children:"Our customers regularly see returns that dwarf their subscription cost."}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Yl.map((o,m)=>t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 text-center",children:[t.jsx("h3",{className:"font-semibold text-white mb-2",children:o.scenario}),t.jsx("p",{className:"text-sm text-neutral-400 mb-4",children:o.description}),t.jsxs("div",{className:"text-3xl font-bold text-cannabis-400",children:[o.savings,t.jsx("span",{className:"text-sm text-neutral-500",children:o.frequency})]})]},m))}),t.jsx("div",{className:"mt-8 p-4 rounded-xl bg-cannabis-900/20 border border-cannabis-700/30 text-center",children:t.jsxs("p",{className:"text-cannabis-400",children:[t.jsx("strong",{children:"Bottom line:"})," One prevented lost sale or one captured competitor stock-out pays for months of service."]})})]})}),t.jsx("section",{className:"py-20 px-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),t.jsx("div",{className:"space-y-4",children:$l.map((o,m)=>t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl overflow-hidden",children:[t.jsxs("button",{onClick:()=>l(a===m?null:m),className:"w-full p-4 flex items-center justify-between text-left hover:bg-neutral-800/50 transition-colors",children:[t.jsx("h4",{className:"font-medium text-white",children:o.q}),t.jsx("span",{className:"text-neutral-500 text-xl",children:a===m?"":"+"})]}),a===m&&t.jsx("div",{className:"px-4 pb-4",children:t.jsx("p",{className:"text-neutral-400",children:o.a})})]},m))})]})}),t.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-cannabis-900/20 to-neutral-950",children:t.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Outsmart Your Competition?"}),t.jsx("p",{className:"text-xl text-neutral-400 mb-8",children:"Start your 14-day free trial. No credit card required."}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[t.jsx("button",{onClick:()=>e("growth"),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-cannabis-600 hover:bg-cannabis-500 text-white font-semibold text-lg transition-colors",children:"Start Free Trial"}),t.jsx("button",{onClick:()=>window.open("mailto:sales@cannasignal.com","_blank"),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-white font-semibold text-lg transition-colors",children:"Talk to Sales"})]}),t.jsx("p",{className:"text-sm text-neutral-500 mt-4",children:"Questions? Email us at sales@cannasignal.com"})]})}),t.jsx("footer",{className:"border-t border-neutral-800 py-8 px-4",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{className:"font-bold text-cannabis-400",children:"CannaSignal"})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-neutral-500",children:[t.jsx("a",{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx("a",{href:"mailto:support@cannasignal.com",className:"hover:text-white transition-colors",children:"Support"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:" 2025 CannaSignal"})]})})})]})}const Hl=[{value:"238+",label:"NYS Dispensaries Tracked"},{value:"15min",label:"Data Refresh Rate"},{value:"10K+",label:"Products Monitored Daily"}],Kl=[{icon:"",title:"Know Before Your Customers Do",description:"Get instant alerts when competitors stock new products, drop prices, or run out of hot items."},{icon:"",title:"Competitive Price Intelligence",description:"See real-time pricing across every competitor in your market. Never be the last to know about price drops."},{icon:"",title:"Spot Market Trends First",description:"Identify which strains and brands are gaining traction before they hit mainstream demand."},{icon:"",title:"Capitalize on Competitor Stock-Outs",description:"When competitors sell out of hot products, capture those customers with targeted campaigns."}],ql=[{type:"new_product",icon:"",title:"New Product Alert",message:"Green Thumb Dispensary just stocked Alien Labs 'Krypto Chronic' that you don't carry",time:"2 minutes ago",action:"You could be first to market with this trending strain"},{type:"price_drop",icon:"",title:"Competitor Price Drop",message:"Housing Works dropped prices on all Jeeter products by 15%",time:"1 hour ago",action:"Consider matching or highlighting your value-adds"},{type:"stock_out",icon:"",title:"Competitor Stock-Out",message:"3 nearby competitors are out of stock on Cookies brand flower",time:"Just now",action:"Opportunity: Run a Cookies promo to capture their customers"},{type:"trending",icon:"",title:"Trending in Your Area",message:"Back Pack Boyz products up 340% in search volume this week",time:"Daily digest",action:"High demand signal  ensure your inventory meets it"}],Gl=[{name:"Starter",price:"$499",period:"/month",description:"For single-location dispensaries",features:["Track up to 10 competitors","Real-time inventory alerts","Price change notifications","Stock-out opportunity alerts","Weekly market digest","Email + Slack notifications","1 team member"],cta:"Start Free Trial",popular:!1},{name:"Growth",price:"$799",period:"/month",description:"For growing retail operations",features:["Track up to 25 competitors","Everything in Starter, plus:","Category-level price analytics","Demand signals from consumer interest","Custom alert rules","API access for POS integration","5 team members","Priority support"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:"Custom",period:"",description:"For multi-location operations",features:["Unlimited competitor tracking","Everything in Growth, plus:","Multi-location dashboards","White-label reports","Historical data export","Dedicated account manager","Unlimited team members","SLA guarantee"],cta:"Contact Sales",popular:!1}],Jl=[{quote:"We caught a competitor price drop in real-time and adjusted our promo same-day. That intel alone paid for a year's subscription.",author:"Operations Manager",company:"NYC Dispensary"},{quote:"The stock-out alerts are gold. When three competitors ran out of Cookies, we ran a flash sale and had our best Saturday ever.",author:"Store Manager",company:"Brooklyn Cannabis Retailer"}];function Xl({onGetStarted:e,onLogin:n}){const[r,i]=g.useState(!1);return t.jsxs("div",{className:"min-h-screen bg-neutral-950 text-white",children:[t.jsx("nav",{className:"sticky top-0 z-50 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-xl font-bold text-cannabis-400",children:"CannaSignal"}),t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-600/20 text-amber-400 font-medium",children:"for Business"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:n,className:"text-sm text-neutral-400 hover:text-white transition-colors",children:"Sign In"}),t.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-cannabis-600 hover:bg-cannabis-500 text-white text-sm font-medium transition-colors",children:"Get Started"})]})]})})}),t.jsx("section",{className:"py-20 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cannabis-900/30 border border-cannabis-700/30 text-cannabis-400 text-sm mb-8",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Built for NYS Licensed Dispensaries"})]}),t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold leading-tight mb-6",children:["Know What Your Competitors",t.jsx("br",{}),t.jsx("span",{className:"text-cannabis-400",children:"Are Stocking"}),t.jsx("br",{}),"Before Your Customers Do"]}),t.jsx("p",{className:"text-xl text-neutral-400 max-w-2xl mx-auto mb-8",children:"Real-time competitive intelligence for cannabis retailers. Track competitor inventory, prices, and stock-outs across every dispensary in your market."}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[t.jsx("button",{onClick:e,className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-cannabis-600 hover:bg-cannabis-500 text-white font-semibold text-lg transition-colors",children:"Start 14-Day Free Trial"}),t.jsxs("button",{onClick:()=>i(!0),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-white font-semibold text-lg transition-colors flex items-center justify-center gap-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Watch Demo"})]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:Hl.map((s,a)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:s.value}),t.jsx("div",{className:"text-xs text-neutral-500",children:s.label})]},a))})]})}),t.jsx("section",{className:"py-20 px-4 bg-neutral-900/50",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Competitive Intelligence That Drives Revenue"}),t.jsx("p",{className:"text-neutral-400 text-center max-w-2xl mx-auto mb-12",children:"Stop guessing what your competitors are doing. Get real-time visibility into every move they make."}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Kl.map((s,a)=>t.jsxs("div",{className:"p-6 rounded-2xl bg-neutral-900 border border-neutral-800 hover:border-neutral-700 transition-colors",children:[t.jsx("div",{className:"text-4xl mb-4",children:s.icon}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.title}),t.jsx("p",{className:"text-neutral-400",children:s.description})]},a))})]})}),t.jsx("section",{className:"py-20 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Actionable Alerts, Not Noise"}),t.jsx("p",{className:"text-neutral-400 text-center max-w-2xl mx-auto mb-12",children:"Every alert includes context and recommended actions. Here's what your dashboard might show:"}),t.jsx("div",{className:"space-y-4",children:ql.map((s,a)=>t.jsx("div",{className:"p-5 rounded-xl bg-neutral-900 border border-neutral-800 hover:border-cannabis-700/50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-3xl",children:s.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"font-semibold text-cannabis-400",children:s.title}),t.jsx("span",{className:"text-xs text-neutral-500",children:s.time})]}),t.jsx("p",{className:"text-white mb-2",children:s.message}),t.jsxs("p",{className:"text-sm text-neutral-400 italic",children:[" ",s.action]})]})]})},a))}),t.jsx("p",{className:"text-center text-neutral-500 text-sm mt-8",children:"Alerts delivered via Email, Slack, SMS, or Dashboard"})]})}),t.jsx("section",{className:"py-20 px-4 bg-neutral-900/50",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Simple, Transparent Pricing"}),t.jsx("p",{className:"text-neutral-400 text-center max-w-2xl mx-auto mb-12",children:"Start with a 14-day free trial. No credit card required."}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Gl.map((s,a)=>t.jsxs("div",{className:`relative rounded-2xl p-6 border-2 transition-colors ${s.popular?"bg-cannabis-900/20 border-cannabis-600":"bg-neutral-900 border-neutral-800 hover:border-neutral-700"}`,children:[s.popular&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:t.jsx("span",{className:"px-3 py-1 rounded-full bg-cannabis-600 text-white text-xs font-semibold",children:"Most Popular"})}),t.jsxs("div",{className:"mb-6 mt-2",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:s.name}),t.jsxs("div",{className:"mt-2",children:[t.jsx("span",{className:"text-3xl font-bold text-white",children:s.price}),t.jsx("span",{className:"text-neutral-500",children:s.period})]}),t.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:s.description})]}),t.jsx("ul",{className:"space-y-3 mb-8",children:s.features.map((l,c)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx("span",{className:"text-cannabis-400 mt-0.5",children:""}),t.jsx("span",{className:"text-neutral-300",children:l})]},c))}),t.jsx("button",{onClick:s.name==="Enterprise"?()=>window.open("mailto:sales@cannasignal.com","_blank"):e,className:`w-full py-3 rounded-xl font-medium transition-colors ${s.popular?"bg-cannabis-600 text-white hover:bg-cannabis-500":"bg-neutral-800 text-white hover:bg-neutral-700"}`,children:s.cta})]},a))}),t.jsx("p",{className:"text-center text-neutral-500 text-sm mt-8",children:"All plans include unlimited alert notifications and API access. Cancel anytime."})]})}),t.jsx("section",{className:"py-20 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Trusted by NYS Dispensaries"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Jl.map((s,a)=>t.jsxs("div",{className:"p-6 rounded-2xl bg-neutral-900 border border-neutral-800",children:[t.jsxs("p",{className:"text-lg text-neutral-300 mb-4 italic",children:['"',s.quote,'"']}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:s.author}),t.jsx("p",{className:"text-sm text-neutral-500",children:s.company})]})]},a))})]})}),t.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-cannabis-900/20 to-neutral-950",children:t.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stop Flying Blind"}),t.jsx("p",{className:"text-xl text-neutral-400 mb-8",children:"Join dispensaries using CannaSignal to stay ahead of the competition. Start your free trial today."}),t.jsx("button",{onClick:e,className:"px-8 py-4 rounded-xl bg-cannabis-600 hover:bg-cannabis-500 text-white font-semibold text-lg transition-colors",children:"Start 14-Day Free Trial "}),t.jsx("p",{className:"text-sm text-neutral-500 mt-4",children:"No credit card required  Cancel anytime"})]})}),t.jsx("footer",{className:"border-t border-neutral-800 py-8 px-4",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{className:"font-bold text-cannabis-400",children:"CannaSignal"})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-neutral-500",children:[t.jsx("a",{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx("a",{href:"mailto:support@cannasignal.com",className:"hover:text-white transition-colors",children:"Support"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:" 2025 CannaSignal. Real-time cannabis retail intelligence."})]})})}),r&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>i(!1),children:t.jsxs("div",{className:"bg-neutral-900 rounded-2xl p-8 max-w-2xl w-full text-center",onClick:s=>s.stopPropagation(),children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Demo Coming Soon"}),t.jsx("p",{className:"text-neutral-400 mb-6",children:"We're putting together a product demo. In the meantime, start your free trial to explore the platform."}),t.jsx("button",{onClick:()=>{i(!1),e()},className:"px-6 py-3 rounded-xl bg-cannabis-600 hover:bg-cannabis-500 text-white font-medium",children:"Start Free Trial Instead"})]})})]})}const Nt={selectedCompetitors:[],categories:[],brands:[],priceMin:null,priceMax:null,stockStatus:"all",timeRange:"all",sortBy:"name_asc",groupBy:"none"},us="cannasignal_dashboard_filters",fe=[{id:"1",name:"Green Thumb Cannabis",distance:"0.3 mi",lastUpdated:"5 min ago"},{id:"2",name:"Housing Works Cannabis",distance:"0.8 mi",lastUpdated:"12 min ago"},{id:"3",name:"Smacked Village",distance:"1.2 mi",lastUpdated:"8 min ago"},{id:"4",name:"The Cannabist",distance:"1.5 mi",lastUpdated:"15 min ago"},{id:"5",name:"Rise Dispensary",distance:"2.1 mi",lastUpdated:"3 min ago"},{id:"6",name:"Medmen NYC",distance:"2.5 mi",lastUpdated:"20 min ago"},{id:"7",name:"Curaleaf Manhattan",distance:"3.0 mi",lastUpdated:"25 min ago"},{id:"8",name:"Columbia Care",distance:"3.2 mi",lastUpdated:"18 min ago"}],Ql=["Flower","Pre-Roll","Concentrate","Edible","Vape","Tincture","Topical"],Zl=["Jeeter","Cookies","710 Labs","Alien Labs","Tyson 2.0","Stiiizy","Back Pack Boyz","Humboldt Seed Co","Ozone","Rythm"],fn=[{id:"a1",type:"new_product",severity:"high",competitorId:"1",competitorName:"Green Thumb Cannabis",productName:"Krypto Chronic",brandName:"Alien Labs",message:"Green Thumb just stocked 'Krypto Chronic' from Alien Labs  you don't carry this",actionHint:"High-demand strain. Consider stocking to capture cross-shoppers.",timestamp:Date.now()-12e4,isRead:!1},{id:"a2",type:"price_drop",severity:"critical",competitorId:"2",competitorName:"Housing Works Cannabis",productName:"Baby Jeeter Infused",brandName:"Jeeter",message:"Housing Works dropped Jeeter prices by 15% across all SKUs",actionHint:"Your Jeeter prices are now 18% higher than nearest competitor.",timestamp:Date.now()-36e5,isRead:!1,data:{priceOld:45,priceNew:38.25,changePercent:-15}},{id:"a3",type:"stock_out",severity:"high",competitorId:"3",competitorName:"Smacked Village",productName:"Gary Payton",brandName:"Cookies",message:"3 nearby competitors are out of Cookies 'Gary Payton'",actionHint:"You have this in stock. Opportunity to run a promo.",timestamp:Date.now()-18e5,isRead:!0},{id:"a4",type:"trending",severity:"medium",competitorId:"",competitorName:"Market",productName:"Various",brandName:"Back Pack Boyz",message:"Back Pack Boyz products up 340% in market demand this week",actionHint:"Consider expanding your BPB inventory while trend is hot.",timestamp:Date.now()-864e5,isRead:!0},{id:"a5",type:"restock",severity:"low",competitorId:"4",competitorName:"The Cannabist",productName:"Blue Dream",brandName:"Tyson 2.0",message:"The Cannabist restocked Tyson 2.0 'Blue Dream' after 5-day outage",actionHint:"Their customers may return. Monitor your Blue Dream sales.",timestamp:Date.now()-72e5,isRead:!0}],eo=[{productId:"p1",productName:"Baby Jeeter Infused - Blue Zkittlez",brandName:"Jeeter",category:"Pre-Roll",yourPrice:45,marketLow:38.25,marketHigh:52,marketAvg:44.5,competitorPrices:[{competitorName:"Housing Works Cannabis",price:38.25,inStock:!0},{competitorName:"Green Thumb Cannabis",price:42,inStock:!0},{competitorName:"Rise Dispensary",price:48,inStock:!1}]},{productId:"p2",productName:"Gary Payton",brandName:"Cookies",category:"Flower",yourPrice:65,marketLow:58,marketHigh:72,marketAvg:64.2,competitorPrices:[{competitorName:"Smacked Village",price:58,inStock:!1},{competitorName:"The Cannabist",price:62,inStock:!1},{competitorName:"Housing Works Cannabis",price:68,inStock:!1}]},{productId:"p3",productName:"LCG Live Rosin",brandName:"710 Labs",category:"Concentrate",yourPrice:null,marketLow:75,marketHigh:95,marketAvg:82,competitorPrices:[{competitorName:"Green Thumb Cannabis",price:85,inStock:!0},{competitorName:"Rise Dispensary",price:75,inStock:!0}]},{productId:"p4",productName:"Liquid Diamonds - Gelato",brandName:"Stiiizy",category:"Vape",yourPrice:55,marketLow:48,marketHigh:62,marketAvg:54,competitorPrices:[{competitorName:"Medmen NYC",price:48,inStock:!0},{competitorName:"Curaleaf Manhattan",price:52,inStock:!0},{competitorName:"Columbia Care",price:58,inStock:!1}]}],to=[{productName:"Various",brandName:"Back Pack Boyz",category:"Flower",searchVolume:4200,volumeChange:340,retailersCarrying:12,yourStore:"not_carried"},{productName:"Liquid Diamonds",brandName:"Stiiizy",category:"Vape",searchVolume:3800,volumeChange:85,retailersCarrying:28,yourStore:"in_stock"},{productName:"Blueberry Muffin",brandName:"Humboldt Seed Co",category:"Flower",searchVolume:2100,volumeChange:120,retailersCarrying:8,yourStore:"out_of_stock"}];function no(){try{const e=localStorage.getItem(us);if(e){const n=JSON.parse(e);return{...Nt,...n}}}catch(e){console.warn("Failed to load filters from storage:",e)}return Nt}function so(e){try{localStorage.setItem(us,JSON.stringify(e))}catch(n){console.warn("Failed to save filters to storage:",n)}}function ro({retailerName:e,email:n,tier:r,onLogout:i,onManageCompetitors:s,onSettings:a}){const[l,c]=g.useState("alerts"),[o,m]=g.useState(!1),[h,x]=g.useState(!1),[u,w]=g.useState(()=>no());g.useEffect(()=>{so(u)},[u]);const C=(v,N)=>{w(S=>({...S,[v]:N}))},j=()=>{w(Nt)},p=g.useMemo(()=>u.selectedCompetitors.length>0||u.categories.length>0||u.brands.length>0||u.priceMin!==null||u.priceMax!==null||u.stockStatus!=="all"||u.timeRange!=="all",[u]),y=g.useMemo(()=>{let v=[...fn];if(o&&(v=v.filter(N=>!N.isRead)),u.selectedCompetitors.length>0&&(v=v.filter(N=>!N.competitorId||u.selectedCompetitors.includes(N.competitorId))),u.brands.length>0&&(v=v.filter(N=>u.brands.includes(N.brandName))),u.timeRange!=="all"){const N=Date.now(),S={"24h":24*60*60*1e3,"7d":7*24*60*60*1e3,"30d":30*24*60*60*1e3,all:1/0};v=v.filter(_=>N-_.timestamp<=S[u.timeRange])}return v},[o,u]),b=g.useMemo(()=>{let v=[...eo];return u.categories.length>0&&(v=v.filter(N=>u.categories.includes(N.category))),u.brands.length>0&&(v=v.filter(N=>u.brands.includes(N.brandName))),u.priceMin!==null&&(v=v.filter(N=>N.yourPrice===null||N.yourPrice>=u.priceMin)),u.priceMax!==null&&(v=v.filter(N=>N.yourPrice===null||N.yourPrice<=u.priceMax)),u.stockStatus!=="all"&&(v=v.filter(N=>{const S=N.competitorPrices.some(_=>_.inStock);return u.stockStatus==="in_stock"?S:!S})),v.sort((N,S)=>{switch(u.sortBy){case"price_asc":return(N.yourPrice??N.marketAvg)-(S.yourPrice??S.marketAvg);case"price_desc":return(S.yourPrice??S.marketAvg)-(N.yourPrice??N.marketAvg);case"name_asc":return N.productName.localeCompare(S.productName);case"name_desc":return S.productName.localeCompare(N.productName);default:return 0}}),v},[u]),d=g.useMemo(()=>{if(u.groupBy==="none")return{"All Products":b};const v={};return b.forEach(N=>{let S;switch(u.groupBy){case"category":S=N.category;break;case"brand":S=N.brandName;break;case"competitor":const _=N.competitorPrices.find(M=>M.inStock);S=(_==null?void 0:_.competitorName)??"No Stock Available";break;default:S="All"}v[S]||(v[S]=[]),v[S].push(N)}),v},[b,u.groupBy]),k=fn.filter(v=>!v.isRead).length;return t.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[t.jsx("header",{className:"sticky top-0 z-40 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{className:"text-xl font-bold text-cannabis-400",children:"CannaSignal"})]}),t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-600/20 text-amber-400 font-medium capitalize",children:r})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:e}),t.jsx("p",{className:"text-xs text-neutral-500",children:n})]}),t.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-neutral-400",children:""}),t.jsx("button",{onClick:i,className:"text-sm px-3 py-1.5 rounded-lg bg-neutral-800 hover:bg-neutral-700 text-neutral-400",children:"Logout"})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Competitors"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:u.selectedCompetitors.length||fe.length}),t.jsx("p",{className:"text-xs text-neutral-500",children:u.selectedCompetitors.length>0?"selected":"in region"})]}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Unread Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-amber-400",children:k}),t.jsx("p",{className:"text-xs text-neutral-500",children:"require attention"})]}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Price Position"}),t.jsx("p",{className:"text-2xl font-bold text-cannabis-400",children:"+3.2%"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"vs. market avg"})]}),t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Stock-Out Opps"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:"5"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"products you can capture"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsxs("button",{onClick:()=>x(!h),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h||p?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Filters"}),p&&t.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-white/20 text-xs flex items-center justify-center",children:u.selectedCompetitors.length+u.categories.length+u.brands.length+(u.priceMin!==null?1:0)+(u.priceMax!==null?1:0)+(u.stockStatus!=="all"?1:0)+(u.timeRange!=="all"?1:0)})]}),p&&t.jsxs("button",{onClick:j,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm text-red-400 hover:bg-red-900/20",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Reset Filters"})]}),t.jsx("div",{className:"flex-1"}),u.selectedCompetitors.length>0&&t.jsxs("span",{className:"px-2 py-1 rounded-full bg-cannabis-600/20 text-cannabis-400 text-xs",children:[u.selectedCompetitors.length," competitors"]}),u.categories.length>0&&t.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-600/20 text-blue-400 text-xs",children:u.categories.join(", ")}),u.timeRange!=="all"&&t.jsxs("span",{className:"px-2 py-1 rounded-full bg-purple-600/20 text-purple-400 text-xs",children:["Last ",u.timeRange]})]}),h&&t.jsx(ao,{filters:u,competitors:fe,allCategories:Ql,allBrands:Zl,onUpdateFilter:C,onReset:j,onClose:()=>x(!1)}),t.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{id:"alerts",label:"Alerts",icon:"",count:k},{id:"pricing",label:"Price Intel",icon:""},{id:"trends",label:"Market Trends",icon:""},{id:"competitors",label:"Competitors",icon:""},{id:"discover",label:"Discover Nearby",icon:""}].map(v=>t.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${l===v.id?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:[t.jsx("span",{children:v.icon}),t.jsx("span",{children:v.label}),v.count&&v.count>0&&t.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:v.count})]},v.id))}),l==="alerts"&&t.jsx(io,{alerts:y,showUnreadOnly:o,onToggleUnread:()=>m(!o),hasFilters:p}),l==="pricing"&&t.jsx(lo,{groupedComparisons:d,filters:u,onUpdateFilter:C}),l==="trends"&&t.jsx(oo,{trends:to}),l==="competitors"&&t.jsx(co,{competitors:fe,selectedCompetitors:u.selectedCompetitors,onToggleCompetitor:v=>{const N=u.selectedCompetitors;N.includes(v)?C("selectedCompetitors",N.filter(S=>S!==v)):C("selectedCompetitors",[...N,v])},onSelectAll:()=>C("selectedCompetitors",fe.map(v=>v.id)),onDeselectAll:()=>C("selectedCompetitors",[]),onManage:s}),l==="discover"&&t.jsx(mo,{tier:r,currentMonitorCount:fe.filter(v=>u.selectedCompetitors.length===0||u.selectedCompetitors.includes(v.id)).length})]})]})}function ao({filters:e,competitors:n,allCategories:r,allBrands:i,onUpdateFilter:s,onReset:a,onClose:l}){const[c,o]=g.useState(""),[m,h]=g.useState(""),x=n.filter(p=>p.name.toLowerCase().includes(c.toLowerCase())),u=i.filter(p=>p.toLowerCase().includes(m.toLowerCase())),w=p=>{const y=e.selectedCompetitors;y.includes(p)?s("selectedCompetitors",y.filter(b=>b!==p)):s("selectedCompetitors",[...y,p])},C=p=>{const y=e.categories;y.includes(p)?s("categories",y.filter(b=>b!==p)):s("categories",[...y,p])},j=p=>{const y=e.brands;y.includes(p)?s("brands",y.filter(b=>b!==p)):s("brands",[...y,p])};return t.jsxs("div",{className:"mb-6 p-6 bg-neutral-900 border border-neutral-800 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filter & View Options"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:a,className:"px-3 py-1.5 rounded-lg text-sm text-neutral-400 hover:bg-neutral-800",children:"Reset All"}),t.jsx("button",{onClick:l,className:"px-3 py-1.5 rounded-lg text-sm bg-neutral-800 text-white hover:bg-neutral-700",children:"Done"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:["Competitors (",e.selectedCompetitors.length||"All",")"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",placeholder:"Search competitors...",value:c,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm placeholder:text-neutral-500 focus:outline-none focus:border-cannabis-500"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>s("selectedCompetitors",n.map(p=>p.id)),className:"text-xs text-cannabis-400 hover:text-cannabis-300",children:"Select All"}),t.jsx("button",{onClick:()=>s("selectedCompetitors",[]),className:"text-xs text-neutral-400 hover:text-neutral-300",children:"Deselect All"})]}),t.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:x.map(p=>t.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-neutral-800 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.selectedCompetitors.length===0||e.selectedCompetitors.includes(p.id),onChange:()=>w(p.id),className:"w-4 h-4 rounded border-neutral-600 bg-neutral-800 text-cannabis-500"}),t.jsx("span",{className:"text-sm text-white truncate",children:p.name}),t.jsx("span",{className:"text-xs text-neutral-500 ml-auto",children:p.distance})]},p.id))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:["Categories (",e.categories.length||"All",")"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(p=>t.jsx("button",{onClick:()=>C(p),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${e.categories.includes(p)?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:p},p))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:["Brands (",e.brands.length||"All",")"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",placeholder:"Search brands...",value:m,onChange:p=>h(p.target.value),className:"w-full px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm placeholder:text-neutral-500 focus:outline-none focus:border-cannabis-500"}),t.jsx("div",{className:"max-h-32 overflow-y-auto flex flex-wrap gap-1",children:u.map(p=>t.jsx("button",{onClick:()=>j(p),className:`px-2 py-1 rounded text-xs transition-colors ${e.brands.includes(p)?"bg-cannabis-600 text-white":"bg-neutral-800 text-neutral-400 hover:bg-neutral-700"}`,children:p},p))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Price Range"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"number",placeholder:"Min",value:e.priceMin??"",onChange:p=>s("priceMin",p.target.value?Number(p.target.value):null),className:"w-20 px-2 py-1.5 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500"}),t.jsx("span",{className:"text-neutral-500",children:""}),t.jsx("input",{type:"number",placeholder:"Max",value:e.priceMax??"",onChange:p=>s("priceMax",p.target.value?Number(p.target.value):null),className:"w-20 px-2 py-1.5 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Stock Status"}),t.jsxs("select",{value:e.stockStatus,onChange:p=>s("stockStatus",p.target.value),className:"w-full px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"in_stock",children:"In Stock"}),t.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-neutral-300 mb-2",children:"Time Range"}),t.jsxs("select",{value:e.timeRange,onChange:p=>s("timeRange",p.target.value),className:"w-full px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"24h",children:"Last 24 Hours"}),t.jsx("option",{value:"7d",children:"Last 7 Days"}),t.jsx("option",{value:"30d",children:"Last 30 Days"})]})]})]})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-800",children:[t.jsx("h4",{className:"text-sm font-medium text-neutral-300 mb-3",children:"View Options"}),t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Sort By"}),t.jsxs("select",{value:e.sortBy,onChange:p=>s("sortBy",p.target.value),className:"px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"name_asc",children:"Name (A-Z)"}),t.jsx("option",{value:"name_desc",children:"Name (Z-A)"}),t.jsx("option",{value:"price_asc",children:"Price (Low to High)"}),t.jsx("option",{value:"price_desc",children:"Price (High to Low)"}),t.jsx("option",{value:"updated",children:"Last Updated"}),t.jsx("option",{value:"distance",children:"Distance"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Group By"}),t.jsxs("select",{value:e.groupBy,onChange:p=>s("groupBy",p.target.value),className:"px-3 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"none",children:"No Grouping"}),t.jsx("option",{value:"category",children:"Category"}),t.jsx("option",{value:"brand",children:"Brand"}),t.jsx("option",{value:"competitor",children:"Competitor"})]})]})]})]})]})}function io({alerts:e,showUnreadOnly:n,onToggleUnread:r,hasFilters:i}){const s=c=>{switch(c){case"critical":return"border-red-500 bg-red-500/10";case"high":return"border-amber-500 bg-amber-500/10";case"medium":return"border-cannabis-500 bg-cannabis-500/10";case"low":return"border-neutral-600 bg-neutral-800"}},a=c=>{switch(c){case"new_product":return"";case"price_drop":return"";case"price_increase":return"";case"stock_out":return"";case"restock":return"";case"trending":return""}},l=c=>{const o=Date.now()-c;return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)} min ago`:o<864e5?`${Math.floor(o/36e5)} hr ago`:`${Math.floor(o/864e5)} days ago`};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Competitive Alerts"}),i&&t.jsx("p",{className:"text-xs text-neutral-500",children:"Showing filtered results"})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-400 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n,onChange:r,className:"w-4 h-4 rounded border-neutral-600 bg-neutral-800 text-cannabis-500"}),t.jsx("span",{children:"Unread only"})]})]}),t.jsx("div",{className:"space-y-3",children:e.length===0?t.jsxs("div",{className:"text-center py-12 text-neutral-500",children:[t.jsx("p",{className:"text-4xl mb-4",children:i?"":""}),t.jsx("p",{children:i?"No alerts match your filters":"You're all caught up!"})]}):e.map(c=>{var o,m;return t.jsx("div",{className:`p-4 rounded-xl border-l-4 transition-colors ${s(c.severity)} ${c.isRead?"":"ring-1 ring-cannabis-500/30"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:a(c.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-cannabis-400 capitalize",children:c.type.replace("_"," ")}),!c.isRead&&t.jsx("span",{className:"w-2 h-2 rounded-full bg-cannabis-500"})]}),t.jsx("span",{className:"text-xs text-neutral-500",children:l(c.timestamp)})]}),t.jsx("p",{className:"text-white mb-2",children:c.message}),t.jsxs("p",{className:"text-sm text-neutral-400 flex items-center gap-1",children:[t.jsx("span",{children:""})," ",c.actionHint]}),((o=c.data)==null?void 0:o.priceOld)&&((m=c.data)==null?void 0:m.priceNew)&&t.jsxs("div",{className:"mt-3 flex items-center gap-4 p-2 rounded-lg bg-neutral-900/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-neutral-500",children:"Was"}),t.jsxs("p",{className:"text-lg font-semibold text-neutral-400 line-through",children:["$",c.data.priceOld]})]}),t.jsx("div",{className:"text-2xl",children:""}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-neutral-500",children:"Now"}),t.jsxs("p",{className:"text-lg font-semibold text-red-400",children:["$",c.data.priceNew]})]}),t.jsxs("div",{className:"text-sm font-medium text-red-400",children:["(",c.data.changePercent,"%)"]})]})]})]})},c.id)})})]})}function lo({groupedComparisons:e,filters:n,onUpdateFilter:r}){const i=Object.values(e).reduce((s,a)=>s+a.length,0);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Price Intelligence"}),t.jsxs("p",{className:"text-xs text-neutral-500",children:[i," products"]})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("span",{className:"text-xs text-neutral-500",children:"Group:"}),t.jsxs("select",{value:n.groupBy,onChange:s=>r("groupBy",s.target.value),className:"px-2 py-1 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-xs focus:outline-none focus:border-cannabis-500",children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"category",children:"Category"}),t.jsx("option",{value:"brand",children:"Brand"})]})]})]}),Object.entries(e).map(([s,a])=>t.jsxs("div",{className:"mb-6",children:[n.groupBy!=="none"&&t.jsxs("h3",{className:"text-md font-semibold text-cannabis-400 mb-3 flex items-center gap-2",children:[t.jsx("span",{children:s}),t.jsxs("span",{className:"text-xs text-neutral-500 font-normal",children:["(",a.length,")"]})]}),t.jsx("div",{className:"space-y-4",children:a.map(l=>t.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-cannabis-400",children:l.brandName}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:l.productName}),t.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-800 text-neutral-400",children:l.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-neutral-500",children:"Your Price"}),l.yourPrice?t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",l.yourPrice]}):t.jsx("p",{className:"text-lg text-amber-400",children:"Not Carried"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500 mb-1",children:[t.jsxs("span",{children:["Market Low: $",l.marketLow]}),t.jsxs("span",{children:["Avg: $",l.marketAvg.toFixed(2)]}),t.jsxs("span",{children:["High: $",l.marketHigh]})]}),t.jsxs("div",{className:"relative h-2 bg-neutral-800 rounded-full",children:[t.jsx("div",{className:"absolute h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full",style:{width:"100%"}}),l.yourPrice&&t.jsx("div",{className:"absolute w-3 h-3 bg-white rounded-full -top-0.5 border-2 border-neutral-900",style:{left:`${(l.yourPrice-l.marketLow)/(l.marketHigh-l.marketLow)*100}%`,transform:"translateX(-50%)"}})]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.competitorPrices.map((c,o)=>t.jsxs("div",{className:`p-2 rounded-lg text-center ${c.inStock?"bg-neutral-800":"bg-neutral-800/50"}`,children:[t.jsx("p",{className:"text-xs text-neutral-400 truncate",children:c.competitorName}),t.jsxs("p",{className:`text-sm font-semibold ${c.inStock?"text-white":"text-neutral-500"}`,children:["$",c.price]}),t.jsx("p",{className:`text-xs ${c.inStock?"text-green-400":"text-red-400"}`,children:c.inStock?"In Stock":"Out"})]},o))})]},l.productId))})]},s)),i===0&&t.jsxs("div",{className:"text-center py-12 text-neutral-500",children:[t.jsx("p",{className:"text-4xl mb-4",children:""}),t.jsx("p",{children:"No products match your filters"})]})]})}function oo({trends:e}){const n=r=>{switch(r){case"in_stock":return t.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-green-500/20 text-green-400",children:"You have it "});case"out_of_stock":return t.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-amber-500/20 text-amber-400",children:"Restock needed"});case"not_carried":return t.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500/20 text-red-400",children:"Not carried"})}};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Trending in Your Market"}),t.jsx("span",{className:"text-xs text-neutral-500",children:"Updated daily"})]}),t.jsx("div",{className:"space-y-3",children:e.map((r,i)=>t.jsx("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4 hover:border-neutral-700 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-3xl font-bold text-neutral-700",children:["#",i+1]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-cannabis-400",children:r.brandName}),t.jsx("h3",{className:"font-semibold text-white",children:r.productName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-800 text-neutral-400",children:r.category}),n(r.yourStore)]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-1 text-green-400 font-bold",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[r.volumeChange,"%"]})]}),t.jsx("p",{className:"text-xs text-neutral-500",children:"search volume"}),t.jsxs("p",{className:"text-xs text-neutral-400 mt-1",children:[r.retailersCarrying," retailers carry"]})]})]})},i))}),t.jsx("div",{className:"mt-6 p-4 rounded-xl bg-amber-900/20 border border-amber-700/30",children:t.jsxs("p",{className:"text-sm text-amber-400 flex items-center gap-2",children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Tip:"})," Products you don't carry that are trending represent potential lost sales. Consider expanding your inventory."]})]})})]})}function co({competitors:e,selectedCompetitors:n,onToggleCompetitor:r,onSelectAll:i,onDeselectAll:s,onManage:a}){const[l,c]=g.useState(""),o=e.filter(h=>h.name.toLowerCase().includes(l.toLowerCase())),m=h=>n.length===0||n.includes(h);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Monitored Competitors"}),t.jsx("p",{className:"text-xs text-neutral-500",children:n.length>0?`${n.length} of ${e.length} selected`:`${e.length} competitors in region`})]}),t.jsx("button",{onClick:a,className:"px-4 py-2 rounded-lg bg-cannabis-600 hover:bg-cannabis-500 text-white text-sm font-medium",children:"+ Add Competitor"})]}),t.jsxs("div",{className:"flex gap-4 mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search competitors...",value:l,onChange:h=>c(h.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-neutral-800 border border-neutral-700 text-white text-sm placeholder:text-neutral-500 focus:outline-none focus:border-cannabis-500"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:i,className:"px-3 py-2 rounded-lg bg-neutral-800 text-neutral-300 text-sm hover:bg-neutral-700",children:"Select All"}),t.jsx("button",{onClick:s,className:"px-3 py-2 rounded-lg bg-neutral-800 text-neutral-300 text-sm hover:bg-neutral-700",children:"Deselect All"})]})]}),n.length>0&&t.jsx("div",{className:"mb-4 p-3 rounded-lg bg-cannabis-900/20 border border-cannabis-700/30",children:t.jsxs("p",{className:"text-sm text-cannabis-400",children:[t.jsx("strong",{children:" Filtered view active:"})," Only showing data from ",n.length," selected competitors.",t.jsx("button",{onClick:s,className:"ml-2 underline hover:no-underline",children:"Show all"})]})}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(h=>t.jsxs("div",{className:`bg-neutral-900 border rounded-xl p-4 transition-colors cursor-pointer ${m(h.id)?"border-cannabis-600 ring-1 ring-cannabis-600/30":"border-neutral-800 opacity-60 hover:opacity-100"}`,onClick:()=>r(h.id),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:m(h.id),onChange:()=>r(h.id),onClick:x=>x.stopPropagation(),className:"w-5 h-5 rounded border-neutral-600 bg-neutral-800 text-cannabis-500"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:h.name}),t.jsxs("p",{className:"text-sm text-neutral-400",children:[h.distance," away"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xs text-green-400 flex items-center gap-1",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),"Active"]}),t.jsxs("p",{className:"text-xs text-neutral-500",children:["Updated ",h.lastUpdated]})]})]}),t.jsxs("div",{className:"mt-3 flex gap-2",children:[t.jsx("button",{className:"flex-1 py-2 rounded-lg bg-neutral-800 text-neutral-300 text-sm hover:bg-neutral-700",onClick:x=>{x.stopPropagation()},children:"View Inventory"}),t.jsx("button",{className:"py-2 px-3 rounded-lg bg-neutral-800 text-neutral-400 text-sm hover:bg-neutral-700",onClick:x=>{x.stopPropagation()},children:""})]})]},h.id))}),o.length===0&&t.jsxs("div",{className:"text-center py-12 text-neutral-500",children:[t.jsx("p",{className:"text-4xl mb-4",children:""}),t.jsxs("p",{children:['No competitors match "',l,'"']})]}),t.jsxs("div",{className:"mt-8 p-6 rounded-xl bg-neutral-900 border border-neutral-800 text-center",children:[t.jsx("p",{className:"text-2xl mb-2",children:""}),t.jsx("h3",{className:"font-semibold text-white mb-2",children:"Expand Your Monitoring"}),t.jsxs("p",{className:"text-sm text-neutral-400 mb-4",children:["Your plan allows tracking up to ",e.length<=5?"10":"25"," competitors. Add more to get a complete market view."]}),t.jsx("button",{onClick:a,className:"px-6 py-2 rounded-lg bg-cannabis-600 hover:bg-cannabis-500 text-white text-sm font-medium",children:"Search Dispensaries"})]})]})}const uo=[{id:"1",name:"Housing Works Cannabis",slug:"housing-works-cannabis",address:{street:"750 Broadway",city:"New York",state:"NY",zip:"10003"},region:"manhattan",coordinates:{lat:40.7308,lng:-73.9917},distanceMiles:.4,distanceFormatted:"0.4 mi",isMonitored:!0,lastUpdated:Date.now()-3e5},{id:"2",name:"Gotham Bowery",slug:"gotham-bowery",address:{street:"3 E 3rd St",city:"New York",state:"NY"},region:"manhattan",coordinates:{lat:40.7255,lng:-73.992},distanceMiles:.1,distanceFormatted:"0.1 mi",isMonitored:!0,lastUpdated:Date.now()-6e5},{id:"3",name:"Dagmar Cannabis SoHo",slug:"dagmar-soho",address:{street:"412 W Broadway",city:"New York",state:"NY"},region:"manhattan",coordinates:{lat:40.7246,lng:-74.0002},distanceMiles:.5,distanceFormatted:"0.5 mi",isMonitored:!1,lastUpdated:Date.now()-12e4},{id:"4",name:"Smacked Village",slug:"smacked-village",address:{street:"144 Bleecker St",city:"New York",state:"NY"},region:"manhattan",coordinates:{lat:40.7283,lng:-73.9994},distanceMiles:.3,distanceFormatted:"0.3 mi",isMonitored:!0,lastUpdated:Date.now()-48e4},{id:"5",name:"Alta Nolita",slug:"alta-nolita",address:{street:"52 Kenmare St A",city:"New York",state:"NY",zip:"10012"},region:"manhattan",coordinates:{lat:40.7221,lng:-73.996},distanceMiles:.2,distanceFormatted:"0.2 mi",isMonitored:!1,lastUpdated:Date.now()-9e5},{id:"6",name:"Maison Canal",slug:"maison-canal",address:{street:"386 Canal St",city:"New York",state:"NY",zip:"10013"},region:"manhattan",coordinates:{lat:40.7189,lng:-74.0015},distanceMiles:.6,distanceFormatted:"0.6 mi",isMonitored:!1,lastUpdated:Date.now()-18e5},{id:"7",name:"The Travel Agency Union Square",slug:"travel-agency-union-square",address:{street:"835 Broadway",city:"New York",state:"NY"},region:"manhattan",coordinates:{lat:40.734,lng:-73.9904},distanceMiles:.7,distanceFormatted:"0.7 mi",isMonitored:!0,lastUpdated:Date.now()-24e4},{id:"8",name:"Kaya Bliss Brooklyn Heights",slug:"kaya-bliss-brooklyn-heights",address:{street:"64 Henry St",city:"Brooklyn",state:"NY",zip:"11201"},region:"brooklyn",coordinates:{lat:40.6962,lng:-73.9919},distanceMiles:1.9,distanceFormatted:"1.9 mi",isMonitored:!1,lastUpdated:Date.now()-36e5},{id:"9",name:"The Cannabist Brooklyn",slug:"the-cannabist-brooklyn",address:{street:"680 Atlantic Ave",city:"Brooklyn",state:"NY",zip:"11217"},region:"brooklyn",coordinates:{lat:40.6849,lng:-73.9772},distanceMiles:2.8,distanceFormatted:"2.8 mi",isMonitored:!1,lastUpdated:Date.now()-72e5},{id:"10",name:"Gotham Williamsburg",slug:"gotham-williamsburg",address:{street:"300 Kent Ave",city:"Brooklyn",state:"NY"},region:"brooklyn",coordinates:{lat:40.7186,lng:-73.9618},distanceMiles:1.5,distanceFormatted:"1.5 mi",isMonitored:!1,lastUpdated:Date.now()-12e5},{id:"11",name:"Daily Green Times Square",slug:"daily-green-times-square",address:{street:"719 7th Ave",city:"New York",state:"NY",zip:"10036"},region:"manhattan",coordinates:{lat:40.7612,lng:-73.9847},distanceMiles:2.5,distanceFormatted:"2.5 mi",isMonitored:!1,lastUpdated:Date.now()-54e5},{id:"12",name:"Gotham Chelsea",slug:"gotham-chelsea",address:{street:"146 10th Ave",city:"New York",state:"NY"},region:"manhattan",coordinates:{lat:40.7455,lng:-74.0063},distanceMiles:1.8,distanceFormatted:"1.8 mi",isMonitored:!1,lastUpdated:Date.now()-24e5},{id:"13",name:"Blue Forest Farms Manhattan",slug:"blue-forest-farms-manhattan",address:{street:"122 E 25th St",city:"New York",state:"NY",zip:"10010"},region:"manhattan",coordinates:{lat:40.7406,lng:-73.9871},distanceMiles:1.1,distanceFormatted:"1.1 mi",isMonitored:!1,lastUpdated:Date.now()-48e5}],ho={lat:40.7246,lng:-73.9927};function mo({tier:e,currentMonitorCount:n}){const[r,i]=g.useState(2),[s,a]=g.useState(uo),[l,c]=g.useState(!1),m={starter:10,growth:25,enterprise:1/0}[e],h=g.useMemo(()=>s.filter(j=>j.distanceMiles<=r).sort((j,p)=>j.distanceMiles-p.distanceMiles),[s,r]),x=j=>{i(j)},u=j=>{a(p=>p.map(y=>y.id===j?{...y,isMonitored:!0}:y))},w=j=>{a(p=>p.map(y=>y.id===j?{...y,isMonitored:!1}:y))},C=()=>{const j=s.filter(y=>y.isMonitored).length,p=m-j;a(y=>{let b=0;return y.map(d=>!d.isMonitored&&d.distanceMiles<=r&&b<p?(b++,{...d,isMonitored:!0}):d)})};return t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Discover Nearby Competitors"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Find dispensaries within your target radius and add them to your monitoring list"})]})}),t.jsx(ds,{anchor:{name:"CONBUD LES",coordinates:ho},competitors:h,radiusMiles:r,onRadiusChange:x,onAddCompetitor:u,onRemoveCompetitor:w,onAddAllInRadius:C,planLimit:m,currentCount:n,isLoading:l})]})}const po="https://quick-weasel-225.convex.cloud",xo="pk_test_YWxlcnQtcmF2ZW4tNjAuY2xlcmsuYWNjb3VudHMuZGV2JA",fo=new fs(po);function go(){return t.jsx(Wl,{onComplete:e=>{console.log("Account created:",e),window.location.href="/dashboard"},onBack:()=>{window.location.href="/business"}})}function bo(){return t.jsx(Xl,{onGetStarted:()=>window.location.href="/onboarding",onLogin:()=>window.location.href="/dashboard"})}function vo(){return t.jsx(Vl,{onSelectPlan:e=>{sessionStorage.setItem("selectedPlan",e),window.location.href="/onboarding"},onBack:()=>window.location.href="/business"})}function jo(){return t.jsx(ro,{retailerName:"Demo Dispensary",email:"demo@example.com",tier:"growth",onLogout:()=>window.location.href="/",onManageCompetitors:()=>{},onSettings:()=>{}})}function yo(){return t.jsx(ll,{children:t.jsxs(rl,{children:[t.jsx(Z,{path:"/",element:t.jsx(Al,{})}),t.jsx(Z,{path:"/business",element:t.jsx(bo,{})}),t.jsx(Z,{path:"/pricing",element:t.jsx(vo,{})}),t.jsx(Z,{path:"/onboarding",element:t.jsx(go,{})}),t.jsx(Z,{path:"/dashboard",element:t.jsx(jo,{})}),t.jsx(Z,{path:"/signup",element:t.jsx(cn,{to:"/onboarding",replace:!0})}),t.jsx(Z,{path:"/b2b",element:t.jsx(cn,{to:"/business",replace:!0})})]})})}dt.createRoot(document.getElementById("root")).render(t.jsx(f.StrictMode,{children:t.jsx(Jn,{publishableKey:xo,children:t.jsx(Ns,{client:fo,useAuth:xa,children:t.jsx(yo,{})})})}));
